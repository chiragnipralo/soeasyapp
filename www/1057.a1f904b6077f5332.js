"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1057],{1057:(O,y,r)=>{r.r(y),r.d(y,{MemberRequestPageModule:()=>i});var M=r(9808),g=r(2382),c=r(8058),b=r(2561),f=r(7582),e=r(4893),R=r(6501),C=r(2468),T=r(6524);const P=["searchBar"];function u(n,h){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"ion-item",14)(2,"ion-label",15),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.memberdetails(s.user_id))}),e._uU(3),e.qZA(),e.TgZ(4,"div",16)(5,"ion-icon",17),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.verifymember(s.user_id))}),e.qZA(),e.TgZ(6,"ion-icon",18),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.deletemember(s.user_id))}),e.qZA()()(),e.BQk()}if(2&n){const t=e.oxw().$implicit;e.xp6(3),e.Oqu(t.full_name)}}function x(n,h){if(1&n&&(e.ynx(0),e.YNc(1,u,7,1,"ng-container",13),e.BQk()),2&n){const t=h.$implicit,o=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.user_id!=(null==o.communityData?null:o.communityData.user_id))}}function m(n,h){if(1&n&&(e.TgZ(0,"div",11)(1,"h2"),e._uU(2,"All Request"),e.qZA(),e.YNc(3,x,2,1,"ng-container",12),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngForOf",t.filterData)}}function d(n,h){1&n&&(e.TgZ(0,"div",19)(1,"h2",20),e._uU(2,"No Request !!"),e.qZA()())}const v=[{path:"",component:(()=>{class n{constructor(t,o,s,a,l,w){this.commonservice=t,this._router=o,this.modalController=s,this.dataservice=a,this.chatconnect=l,this.alertController=w,this.events_data=[],this.showSearchBar=!1,this.searchQuery="",this.filterData=[]}toggleSearchBar(){this.showSearchBar=!this.showSearchBar,this.showSearchBar?setTimeout(()=>{this.searchBarRef.nativeElement.setFocus()},100):this.searchQuery=""}filterItems(t){console.log(t.detail.value),this.dataservice.isNullOrUndefined(t.detail.value)||(this.filterData=this.filterData.filter(o=>o.full_name.toLowerCase().indexOf(t.detail.value.toLowerCase())>-1))}doRefresh(t){this.ngOnInit(),setTimeout(()=>{t.target.complete()},2e3)}ngOnInit(){this.GetUserEvents()}GetUserEvents(){const t=this.dataservice.GetAccountuser();let o={user_token:this.dataservice.getUserData(),community_id:t};this.chatconnect.postData(o,"paid_community_details_by_id").then(s=>{console.log(s),1==s.Response.status?(this.communityData=s.Response.Details[0],this.member=this.communityData.member,this.filterData=this.member.filter(a=>1===a.request),console.log("This is Filter Data ==> ",this.filterData)):this.commonservice.presentToast("Oops",s.Response.message)},s=>{console.log("Connection failed Messge")})}memberdetails(t){console.log("This is member ID ==>",t),this._router.navigate(["/member-details",{user_id:t}])}verifymember(t){return(0,f.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:"Confirm",message:"Are you sure want to accept member request?",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary"},{text:"Yes",handler:()=>{console.log("Member Id ==>",t),this.commonservice.show("Please Wait");const s=this.dataservice.GetAccountuser();let a={user_token:this.dataservice.getUserData(),community_id:s,member_id:t,command:"verify",premium:1,command_Type:"member"};console.log("this is api Data ==>",a),this.chatconnect.postData(a,"verify_member").then(l=>{this.commonservice.hide(),console.log(l),1==l.Response.status?(this.commonservice.presentToast("",l.Response.message),this.GetUserEvents()):this.commonservice.presentToast("Oops",l.Response.message)},l=>{console.log("Connection failed Messge")})}}]})).present()})}deletemember(t){return(0,f.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:"Confirm",message:"Are you sure want to delete member request?",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary"},{text:"Yes",handler:()=>{console.log("Member Id ==>",t),this.commonservice.show("Please Wait");const s=this.dataservice.GetAccountuser();let a={user_token:this.dataservice.getUserData(),community_id:s,member_id:t,command:"delete",premium:1,command_Type:"member"};this.chatconnect.postData(a,"verify_member").then(l=>{this.commonservice.hide(),console.log(l),1==l.Response.status?(this.commonservice.presentToast("",l.Response.message),this.GetUserEvents()):this.commonservice.presentToast("Oops",l.Response.message)},l=>{console.log("Connection failed Messge")})}}]})).present()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(R.v),e.Y36(b.F0),e.Y36(c.IN),e.Y36(C.D),e.Y36(T.O),e.Y36(c.Br))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-member-request"]],viewQuery:function(t,o){if(1&t&&e.Gf(P,5,e.SBq),2&t){let s;e.iGM(s=e.CRH())&&(o.searchBarRef=s.first)}},decls:15,vars:4,consts:[[1,"top"],["slot","start"],["text","","icon","arrow-back-outline"],["name","search-outline",1,"search_icon",3,"click"],[1,"ion-padding-start","ion-padding-end"],["slot","fixed",3,"ionRefresh"],["pullingIcon","arrow-down","pullingText","Pull to refresh","refreshingSpinner","circles"],["placeholder","Search...",3,"ngModel","hidden","ngModelChange","ionCancel","ionChange"],["searchBar",""],["class","container",4,"ngIf"],["class","container","style","height: 100%;",4,"ngIf"],[1,"container"],[4,"ngFor","ngForOf"],[4,"ngIf"],["lines","inset"],[3,"click"],[1,"icon_design"],["name","checkmark-circle-outline",3,"click"],["name","close-circle-outline",3,"click"],[1,"container",2,"height","100%"],[2,"display","flex","justify-content","center","align-items","center","height","98%"]],template:function(t,o){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"div",0)(3,"ion-buttons",1),e._UZ(4,"ion-back-button",2),e.qZA(),e.TgZ(5,"ion-title"),e._uU(6,"Members Request"),e.qZA(),e.TgZ(7,"ion-icon",3),e.NdJ("click",function(){return o.toggleSearchBar()}),e.qZA()()()(),e.TgZ(8,"ion-content",4)(9,"ion-refresher",5),e.NdJ("ionRefresh",function(a){return o.doRefresh(a)}),e._UZ(10,"ion-refresher-content",6),e.qZA(),e.TgZ(11,"ion-searchbar",7,8),e.NdJ("ngModelChange",function(a){return o.searchQuery=a})("ionCancel",function(){return o.toggleSearchBar()})("ionChange",function(a){return o.filterItems(a)}),e.qZA(),e.YNc(13,m,4,1,"div",9),e.YNc(14,d,3,0,"div",10),e.qZA()),2&t&&(e.xp6(11),e.Q6J("ngModel",o.searchQuery)("hidden",!o.showSearchBar),e.xp6(2),e.Q6J("ngIf",o.filterData.length>0),e.xp6(1),e.Q6J("ngIf",!o.filterData||0===o.filterData.length))},dependencies:[M.sg,M.O5,g.JJ,g.On,c.oU,c.Sm,c.W2,c.Gu,c.gu,c.Ie,c.Q$,c.nJ,c.Wo,c.VI,c.wd,c.sr,c.j9,c.cs],styles:[".top[_ngcontent-%COMP%]{display:flex;align-items:center}.top[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{text-align:center}.top[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{padding-right:10px}ion-searchbar[_ngcontent-%COMP%]{position:sticky;top:0;z-index:2}ion-item[_ngcontent-%COMP%]{--background: transparent;--border-style: solid !important}.icon_design[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:25px;margin:5px}.icon_design[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]:nth-child(1){color:green}.icon_design[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]:nth-child(2){color:red}"]}),n})()}];let _=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[b.Bz.forChild(v),b.Bz]}),n})(),i=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[M.ez,g.u5,c.Pc,_]}),n})()},6524:(O,y,r)=>{r.d(y,{O:()=>P});var M=r(7582),g=r(520);const b=(0,r(7423).fo)("Network",{web:()=>r.e(4203).then(r.bind(r,4203)).then(u=>new u.NetworkWeb)});var f=r(4893),e=r(2468),R=r(6501);let C="https://api.soeasyapp.com/",P=(()=>{class u{constructor(m,d,p){this.http=m,this.dataservice=d,this.common=p,this.checkInternetConnection()}initiatePayment(m,d){const p={headers:(new g.WM).set("Content-Type","application/json").set("Authorization","PAY46ZGYME1AE6LUR1AVI1701862757.YFGJ11SECKEY")};return new Promise((v,_)=>{this.http.post("https://admin.payomatix.com/payment/merchant/"+d,JSON.stringify(m),p).subscribe(i=>{v(i)},i=>{_(i),"HttpErrorResponse"==i.name&&("Unknown Error"==i.statusText?this.checkInternetConnection():this.common.presentToast("","OK"==i.statusText?"Something Went Wrong...":i.statusText)),console.log("In Chatconnect provider : Error",i)})})}postData(m,d){const p={headers:(new g.WM).set("Content-Type","application/json")};return new Promise((v,_)=>{this.http.post(C+d,JSON.stringify(m),p).subscribe(i=>{v(i)},i=>{_(i),"HttpErrorResponse"==i.name&&("Unknown Error"==i.statusText?this.checkInternetConnection():this.common.presentToast("","OK"==i.statusText?"Something Went Wrong...":i.statusText)),console.log("In Chatconnect provider : Error",i)})})}checkInternetConnection(){return(0,M.mG)(this,void 0,void 0,function*(){(yield b.getStatus()).connected?console.log("Internet is connected"):(console.log("No internet connection"),this.common.presentToast("","Check your internet connection"))})}postFormData(m,d){return new Promise((p,v)=>{const _=(new g.WM).set("Accept","application/json");this.http.post(C+d,m,{headers:_}).subscribe(i=>{p(i)},i=>{v(i)})})}}return u.\u0275fac=function(m){return new(m||u)(f.LFG(g.eN),f.LFG(e.D),f.LFG(R.v))},u.\u0275prov=f.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()}}]);