"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1366],{1366:(E,f,i)=>{i.r(f),i.d(f,{CommunityEventPageModule:()=>u});var C=i(9808),h=i(2382),s=i(8058),v=i(2561),n=i(4893),y=i(6501),M=i(7053),P=i(2468),O=i(6524);const _=["searchBar"];function r(t,c){1&t&&(n.ynx(0,10),n.TgZ(1,"div",11),n._uU(2,"No Events"),n.qZA(),n.BQk())}function x(t,c){1&t&&(n.ynx(0),n.TgZ(1,"ion-list"),n._UZ(2,"ion-icon",20),n.TgZ(3,"p"),n._uU(4,"Joined"),n.qZA()(),n.BQk())}function a(t,c){if(1&t){const e=n.EpF();n.ynx(0),n.TgZ(1,"ion-card",12),n.NdJ("click",function(){const p=n.CHM(e).$implicit,T=n.oxw();return n.KtG(T.view_details(p))}),n.TgZ(2,"ion-card-content")(3,"ion-row")(4,"ion-col",13),n._UZ(5,"ion-img",14),n.qZA(),n.TgZ(6,"ion-col",15)(7,"div",16)(8,"h2"),n._uU(9),n.qZA()(),n.TgZ(10,"div")(11,"ion-list"),n._UZ(12,"ion-icon",17),n.TgZ(13,"p"),n._uU(14),n.qZA()(),n.TgZ(15,"ion-list"),n._UZ(16,"ion-icon",18),n.TgZ(17,"p"),n._uU(18,"Free"),n.qZA()(),n.YNc(19,x,5,0,"ng-container",19),n.qZA()()()()(),n.BQk()}if(2&t){const e=c.$implicit;n.xp6(5),n.Q6J("src",e.event_images),n.xp6(4),n.Oqu(e.title),n.xp6(5),n.Oqu(e.event_venues),n.xp6(5),n.Q6J("ngIf",e.user_joined_event)}}const l=[{path:"",component:(()=>{class t{constructor(e,o,g,p,T,w,Z){this.commonservice=e,this.authservice=o,this.dataservice=g,this.route=p,this._router=T,this.chatconnect=w,this.alertController=Z,this.events_data=[],this.filterData=[],this.route.queryParams.subscribe(S=>{this.premium=+S.value,console.log(this.premium)})}toggleSearchBar(){this.showSearchBar=!this.showSearchBar,this.showSearchBar?setTimeout(()=>{this.searchBarRef.nativeElement.setFocus()},100):this.searchQuery=""}ngOnInit(){}ionViewDidEnter(){console.log("ionViewDidEnter"),this.All_events()}filterItems(e){console.log(e.detail.value),this.dataservice.isNullOrUndefined(e.detail.value)||(this.filterData=this.events_data.filter(o=>o.title.toLowerCase().indexOf(e.detail.value.toLowerCase())>-1))}All_events(){this.commonservice.show();let e={user_token:this.dataservice.getUserData(),community_id:this.dataservice.user_community_data.id,premium:this.premium.toString()};console.log("This is API Data ==> ",e),this.chatconnect.postData(e,"view_event_by_community_id").then(o=>{this.commonservice.hide(),console.log(o),1==o.Response.status?(this.events_data=o.Response.events_data,this.filterData=this.events_data,console.log("This is Result ==> ",o)):this.commonservice.presentToast("Oops",o.Response.message)},o=>{console.log("Connection failed Messge")})}view_details(e){console.log("This Is Event Details ==> ",e),this.dataservice.setEventData(e),0==this.premium?this._router.navigate(["/detailseve"]):1==this.premium&&(this._router.navigate(["/event-details"]),console.log("IF premium"))}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(y.v),n.Y36(M.$),n.Y36(P.D),n.Y36(v.gz),n.Y36(v.F0),n.Y36(O.O),n.Y36(s.Br))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-community-event"]],viewQuery:function(e,o){if(1&e&&n.Gf(_,5,n.SBq),2&e){let g;n.iGM(g=n.CRH())&&(o.searchBarRef=g.first)}},decls:14,vars:4,consts:[[1,"top"],["slot","start"],["text","","icon","arrow-back-outline"],["slot","end","name","search-outline",1,"search_icon",3,"click"],[1,"ion-padding-start","ion-padding-end"],["class","cateLbl",4,"ngIf"],["placeholder","Search Events",3,"ngModel","hidden","ngModelChange","ionCancel","ionChange"],["searchBar",""],[1,"container"],[4,"ngFor","ngForOf"],[1,"cateLbl"],[1,"no_events",2,"text-align","center","text-align","center","font-size","20px","font-weight","bold","display","flex","justify-content","center","align-items","center","height","100%"],[3,"click"],["size","6",1,"eventcol"],[3,"src"],["size","6"],[1,"head"],["name","location-outline"],["name","card-outline"],[4,"ngIf"],["name","checkmark-done"]],template:function(e,o){1&e&&(n.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"div",0)(3,"ion-buttons",1),n._UZ(4,"ion-back-button",2),n.qZA(),n.TgZ(5,"ion-title"),n._uU(6,"Event"),n.qZA(),n.TgZ(7,"ion-icon",3),n.NdJ("click",function(){return o.toggleSearchBar()}),n.qZA()()()(),n.TgZ(8,"ion-content",4),n.YNc(9,r,3,0,"ng-container",5),n.TgZ(10,"ion-searchbar",6,7),n.NdJ("ngModelChange",function(p){return o.searchQuery=p})("ionCancel",function(){return o.toggleSearchBar()})("ionChange",function(p){return o.filterItems(p)}),n.qZA(),n.TgZ(12,"div",8),n.YNc(13,a,20,4,"ng-container",9),n.qZA()()),2&e&&(n.xp6(9),n.Q6J("ngIf",!o.filterData||0===o.filterData.length),n.xp6(1),n.Q6J("ngModel",o.searchQuery)("hidden",!o.showSearchBar),n.xp6(3),n.Q6J("ngForOf",o.filterData))},dependencies:[C.sg,C.O5,h.JJ,h.On,s.oU,s.Sm,s.PM,s.FN,s.wI,s.W2,s.Gu,s.gu,s.Xz,s.q_,s.Nd,s.VI,s.wd,s.sr,s.j9,s.cs],styles:[".top[_ngcontent-%COMP%]{display:flex}.top[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{text-align:center}.top[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{padding-right:10px}ion-searchbar[_ngcontent-%COMP%]{position:sticky;top:0;z-index:2}.search_icon[_ngcontent-%COMP%]{position:absolute;right:11px;bottom:14px}ion-card[_ngcontent-%COMP%]{background:rgb(248,248,248);margin:15px 0;padding:0;box-shadow:0 5px 4px -1px #cacaca;border-radius:10px}ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{margin:0;padding:0}ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]:nth-child(1){cursor:pointer;height:160px}ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]:nth-child(1)   ion-img[_ngcontent-%COMP%]{height:100%}ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]::part(image){border-radius:10px;object-fit:cover}ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px;color:#000}ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{--color: black;font-size:13px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;text-transform:uppercase}ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px}ion-card[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{background:transparent;padding:0;display:flex;align-items:center}ion-card[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#000;margin-right:5px}ion-card[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:140px;font-weight:600}"]}),t})()}];let d=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[v.Bz.forChild(l),v.Bz]}),t})(),u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[C.ez,h.u5,s.Pc,d]}),t})()},6524:(E,f,i)=>{i.d(f,{O:()=>_});var C=i(7582),h=i(520);const v=(0,i(7423).fo)("Network",{web:()=>i.e(4203).then(i.bind(i,4203)).then(r=>new r.NetworkWeb)});var n=i(4893),y=i(2468),M=i(6501);let P="https://api.soeasyapp.com/",_=(()=>{class r{constructor(a,m,l){this.http=a,this.dataservice=m,this.common=l,this.checkInternetConnection()}initiatePayment(a,m){const l={headers:(new h.WM).set("Content-Type","application/json").set("Authorization","PAY46ZGYME1AE6LUR1AVI1701862757.YFGJ11SECKEY")};return new Promise((d,u)=>{this.http.post("https://admin.payomatix.com/payment/merchant/"+m,JSON.stringify(a),l).subscribe(t=>{d(t)},t=>{u(t),"HttpErrorResponse"==t.name&&("Unknown Error"==t.statusText?this.checkInternetConnection():this.common.presentToast("","OK"==t.statusText?"Something Went Wrong...":t.statusText)),console.log("In Chatconnect provider : Error",t)})})}postData(a,m){const l={headers:(new h.WM).set("Content-Type","application/json")};return new Promise((d,u)=>{this.http.post(P+m,JSON.stringify(a),l).subscribe(t=>{d(t)},t=>{u(t),"HttpErrorResponse"==t.name&&("Unknown Error"==t.statusText?this.checkInternetConnection():this.common.presentToast("","OK"==t.statusText?"Something Went Wrong...":t.statusText)),console.log("In Chatconnect provider : Error",t)})})}checkInternetConnection(){return(0,C.mG)(this,void 0,void 0,function*(){(yield v.getStatus()).connected?console.log("Internet is connected"):(console.log("No internet connection"),this.common.presentToast("","Check your internet connection"))})}postFormData(a,m){return new Promise((l,d)=>{const u=(new h.WM).set("Accept","application/json");this.http.post(P+m,a,{headers:u}).subscribe(t=>{l(t)},t=>{d(t)})})}}return r.\u0275fac=function(a){return new(a||r)(n.LFG(h.eN),n.LFG(y.D),n.LFG(M.v))},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()}}]);