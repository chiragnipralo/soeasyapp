"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1518],{1518:(I,C,c)=>{c.r(C),c.d(C,{PostPageModule:()=>i});var _=c(9808),p=c(2382),s=c(8058),v=c(2561),e=c(4893),T=c(6501),x=c(2468),y=c(6524);const M=["searchBar"];function O(n,h){if(1&n&&(e.TgZ(0,"ion-label"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.message)}}function g(n,h){if(1&n&&(e.TgZ(0,"div",24),e._UZ(1,"img",25),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("src",t.image,e.LSH)}}function Z(n,h){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"ion-accordion-group",13)(2,"ion-accordion",14)(3,"ion-item",15)(4,"div",16)(5,"ion-icon",17),e.NdJ("click",function(){const r=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.verifytimeline(r.user_id,r.id))}),e.qZA(),e.TgZ(6,"ion-icon",18),e.NdJ("click",function(){const r=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.deletetimeline(r.user_id,r.id))}),e.qZA()(),e.TgZ(7,"ion-label",19),e._uU(8),e.qZA()(),e.TgZ(9,"div",20)(10,"ion-item",21),e.YNc(11,O,2,1,"ion-label",22),e.YNc(12,g,2,1,"div",23),e.qZA()()()(),e.BQk()}if(2&n){const t=h.$implicit;e.xp6(8),e.Oqu(t.user_name),e.xp6(3),e.Q6J("ngIf",""!=t.message),e.xp6(1),e.Q6J("ngIf",t.image)}}function m(n,h){if(1&n&&(e.TgZ(0,"div",11)(1,"h2"),e._uU(2,"All Posts"),e.qZA(),e.YNc(3,Z,13,3,"ng-container",12),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngForOf",t.filterData)}}function d(n,h){1&n&&(e.TgZ(0,"div",26)(1,"h2",27),e._uU(2,"No Post !!"),e.qZA()())}const f=[{path:"",component:(()=>{class n{constructor(t,o,a,r,l,w){this.commonservice=t,this._router=o,this.modalController=a,this.dataservice=r,this.chatconnect=l,this.alertController=w,this.events_data=[],this.showSearchBar=!1,this.searchQuery="",this.filterData=[]}toggleSearchBar(){this.showSearchBar=!this.showSearchBar,this.showSearchBar?setTimeout(()=>{this.searchBarRef.nativeElement.setFocus()},100):this.searchQuery=""}filterItems(t){console.log(t.detail.value),this.dataservice.isNullOrUndefined(t.detail.value)||(this.filterData=this.post.filter(o=>o.user_name.toLowerCase().indexOf(t.detail.value.toLowerCase())>-1))}doRefresh(t){this.ngOnInit(),setTimeout(()=>{t.target.complete()},2e3)}ngOnInit(){this.GetCommunityPost()}GetCommunityPost(){const t=this.dataservice.GetAccountuser();let o={user_token:this.dataservice.getUserData(),community_id:t};this.chatconnect.postData(o,"paid_community_details_by_id").then(a=>{console.log(a),1==a.Response.status?(this.communityData=a.Response.Details,this.post=this.communityData[0].timeline,this.filterData=this.post.filter(r=>1===r.status)):this.commonservice.presentToast("Oops",a.Response.message)},a=>{console.log("Connection failed Messge")})}verifytimeline(t,o){console.log("Member Id ==>",t),this.commonservice.show("Please Wait");const a=this.dataservice.GetAccountuser();let r={user_token:this.dataservice.getUserData(),community_id:a,member_id:t,row_id:o,command:"verify",premium:1,command_Type:"timeline"};console.log("this is api data ==>",r),this.chatconnect.postData(r,"verify_member").then(l=>{this.commonservice.hide(),console.log(l),1==l.Response.status?(this.commonservice.presentToast("",l.Response.message),this.GetCommunityPost()):this.commonservice.presentToast("Oops",l.Response.message)},l=>{console.log("Connection failed Messge")})}deletetimeline(t,o){console.log("Member Id ==>",t),this.commonservice.show("Please Wait");const a=this.dataservice.GetAccountuser();let r={user_token:this.dataservice.getUserData(),community_id:a,member_id:t,row_id:o,command:"delete",premium:1,command_Type:"timeline"};this.chatconnect.postData(r,"verify_member").then(l=>{this.commonservice.hide(),console.log(l),1==l.Response.status?(this.commonservice.presentToast("",l.Response.message),this.GetCommunityPost()):this.commonservice.presentToast("Oops",l.Response.message)},l=>{console.log("Connection failed Messge")})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(T.v),e.Y36(v.F0),e.Y36(s.IN),e.Y36(x.D),e.Y36(y.O),e.Y36(s.Br))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-post"]],viewQuery:function(t,o){if(1&t&&e.Gf(M,5,e.SBq),2&t){let a;e.iGM(a=e.CRH())&&(o.searchBarRef=a.first)}},decls:15,vars:4,consts:[[1,"top"],["slot","start"],["text","","icon","arrow-back-outline"],["name","search-outline",1,"search_icon",3,"click"],[1,"ion-padding-start","ion-padding-end"],["slot","fixed",3,"ionRefresh"],["pullingIcon","arrow-down","pullingText","Pull to refresh","refreshingSpinner","circles"],["placeholder","Search...",3,"ngModel","hidden","ngModelChange","ionCancel","ionChange"],["searchBar",""],["class","container",4,"ngIf"],["class","container","style","height: 100%;",4,"ngIf"],[1,"container"],[4,"ngFor","ngForOf"],["expand","inset"],["value","member"],["slot","header","color","dark"],[1,"icon_design"],["name","checkmark-circle-outline",3,"click"],["name","close-circle-outline",3,"click"],[2,"padding-left","10px"],["slot","content",1,"ion-padding"],["routerLink","/member-request"],[4,"ngIf"],["class","msg-content",4,"ngIf"],[1,"msg-content"],[1,"postimg",3,"src"],[1,"container",2,"height","100%"],[2,"display","flex","justify-content","center","align-items","center","height","98%"]],template:function(t,o){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"div",0)(3,"ion-buttons",1),e._UZ(4,"ion-back-button",2),e.qZA(),e.TgZ(5,"ion-title"),e._uU(6,"Posts"),e.qZA(),e.TgZ(7,"ion-icon",3),e.NdJ("click",function(){return o.toggleSearchBar()}),e.qZA()()()(),e.TgZ(8,"ion-content",4)(9,"ion-refresher",5),e.NdJ("ionRefresh",function(r){return o.doRefresh(r)}),e._UZ(10,"ion-refresher-content",6),e.qZA(),e.TgZ(11,"ion-searchbar",7,8),e.NdJ("ngModelChange",function(r){return o.searchQuery=r})("ionCancel",function(){return o.toggleSearchBar()})("ionChange",function(r){return o.filterItems(r)}),e.qZA(),e.YNc(13,m,4,1,"div",9),e.YNc(14,d,3,0,"div",10),e.qZA()),2&t&&(e.xp6(11),e.Q6J("ngModel",o.searchQuery)("hidden",!o.showSearchBar),e.xp6(2),e.Q6J("ngIf",o.filterData.length>0),e.xp6(1),e.Q6J("ngIf",!o.filterData||0===o.filterData.length))},dependencies:[_.sg,_.O5,p.JJ,p.On,s.We,s.eh,s.oU,s.Sm,s.W2,s.Gu,s.gu,s.Ie,s.Q$,s.nJ,s.Wo,s.VI,s.wd,s.sr,s.j9,s.cs,s.YI,v.rH],styles:[".top[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.top[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{text-align:center}.top[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{padding-right:10px}ion-accordion-group[_ngcontent-%COMP%]{margin-bottom:10px}.icon_design[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:25px;margin:5px}.icon_design[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]:nth-child(1){color:green}.icon_design[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]:nth-child(2){color:red}ion-searchbar[_ngcontent-%COMP%]{position:sticky;top:0;z-index:2}"]}),n})()}];let P=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[v.Bz.forChild(f),v.Bz]}),n})(),i=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[_.ez,p.u5,s.Pc,P]}),n})()},6524:(I,C,c)=>{c.d(C,{O:()=>O});var _=c(7582),p=c(520);const v=(0,c(7423).fo)("Network",{web:()=>c.e(4203).then(c.bind(c,4203)).then(g=>new g.NetworkWeb)});var e=c(4893),T=c(2468),x=c(6501);let y="https://api.soeasyapp.com/",O=(()=>{class g{constructor(m,d,u){this.http=m,this.dataservice=d,this.common=u,this.checkInternetConnection()}initiatePayment(m,d){const u={headers:(new p.WM).set("Content-Type","application/json").set("Authorization","PAY46ZGYME1AE6LUR1AVI1701862757.YFGJ11SECKEY")};return new Promise((f,P)=>{this.http.post("https://admin.payomatix.com/payment/merchant/"+d,JSON.stringify(m),u).subscribe(i=>{f(i)},i=>{P(i),"HttpErrorResponse"==i.name&&("Unknown Error"==i.statusText?this.checkInternetConnection():this.common.presentToast("","OK"==i.statusText?"Something Went Wrong...":i.statusText)),console.log("In Chatconnect provider : Error",i)})})}postData(m,d){const u={headers:(new p.WM).set("Content-Type","application/json")};return new Promise((f,P)=>{this.http.post(y+d,JSON.stringify(m),u).subscribe(i=>{f(i)},i=>{P(i),"HttpErrorResponse"==i.name&&("Unknown Error"==i.statusText?this.checkInternetConnection():this.common.presentToast("","OK"==i.statusText?"Something Went Wrong...":i.statusText)),console.log("In Chatconnect provider : Error",i)})})}checkInternetConnection(){return(0,_.mG)(this,void 0,void 0,function*(){(yield v.getStatus()).connected?console.log("Internet is connected"):(console.log("No internet connection"),this.common.presentToast("","Check your internet connection"))})}postFormData(m,d){return new Promise((u,f)=>{const P=(new p.WM).set("Accept","application/json");this.http.post(y+d,m,{headers:P}).subscribe(i=>{u(i)},i=>{f(i)})})}}return g.\u0275fac=function(m){return new(m||g)(e.LFG(p.eN),e.LFG(T.D),e.LFG(x.v))},g.\u0275prov=e.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()}}]);