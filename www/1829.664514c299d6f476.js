"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1829],{1829:(O,y,n)=>{n.r(y),n.d(y,{QrcodePageModule:()=>v});var P=n(9808),g=n(2382),r=n(8058),f=n(2561),u=n(7582),p=n(947);const R=(0,n(7423).fo)("Browser",{web:()=>n.e(6874).then(n.bind(n,6874)).then(o=>new o.BrowserWeb)});var t=n(4893),w=n(2468),h=n(6501),x=n(6524);const d=[{path:"",component:(()=>{class o{constructor(s,i,c,A,S,M,T,a,b){this._router=s,this.dataservice=i,this.commonservice=c,this.chatconnect=A,this.route=S,this.location=M,this.platform=T,this.alertController=a,this.navCtrl=b,this.scanActive=!1,this.qr="urqr"}ngOnInit(){this.route.queryParams.subscribe(s=>{this.scanActive="true"===s.scanActive,this.is_event_or_community=s.is_event_or_community,console.log("IF Event",this.is_event_or_community),this.scanActive&&this.startScanner()})}checkPermission(){return(0,u.mG)(this,void 0,void 0,function*(){return new Promise((s,i)=>(0,u.mG)(this,void 0,void 0,function*(){const c=yield p.mR.checkPermission({force:!0});c.granted?s(!0):c.denied&&(p.mR.openAppSettings(),s(!1))}))})}startScanner(){return(0,u.mG)(this,void 0,void 0,function*(){if(yield this.checkPermission()){this.scanActive=!0,p.mR.hideBackground();const i=yield p.mR.startScan();if(console.log("Result:",i),i.hasContent)if(this.scanActive=!1,console.log("params1:",this.is_event_or_community),console.log("Condition Result:","true"==this.is_event_or_community),"true"===this.is_event_or_community){const c=new URL(i.content),A=c.searchParams.get("token"),S=c.searchParams.get("status"),M=c.searchParams.has("type")?c.searchParams.get("type"):0;let T={user_token:this.dataservice.getUserData(),token:A,type:S,is_premium:M};this.chatconnect.postData(T,"view_event_details_by_scan").then(a=>{1==a.Response.status?(this.commonservice.presentToast("",a.Response.message),1==a.Response.eve?this.view_details(a.Response.geteventid,a.Response.is_premium):2==a.Response.comm&&this.view_detailss(a.Response.getcommunityid,a.Response.is_premium)):this.commonservice.presentToast("Oops",a.Response.message)},a=>{console.log("Connection failed Messge")})}else if("false"===this.is_event_or_community){const c=new URL(i.content);console.log("URL ==>",c.href),console.log("Redirect URL:",c.href),this.location.back(),yield R.open({url:c.href.toString(),windowName:"_system"})}else alert("NO DATA FOUND!")}})}view_details(s,i){console.log(s),this.dataservice.setEventData(s),this._router.navigate(0==i?["/detailseve"]:["/event-details"])}view_detailss(s,i){console.log(s),this.dataservice.setCommunityData(s),this._router.navigate(0==i?["/community-details"]:["/premium-community-details"])}stopScanner(){p.mR.stopScan(),this.scanActive=!1,this._router.navigate(["/tabs/dashboard"])}ionViewWillEnter(){}ionViewWillLeave(){p.mR.stopScan(),this.scanActive=!1}}return o.\u0275fac=function(s){return new(s||o)(t.Y36(f.F0),t.Y36(w.D),t.Y36(h.v),t.Y36(x.O),t.Y36(f.gz),t.Y36(P.Ye),t.Y36(r.t4),t.Y36(r.Br),t.Y36(r.SH))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-qrcode"]],decls:6,vars:5,consts:[[3,"fullscreen"],[1,"scan-button",3,"hidden"],[1,"ion-no-padding",2,"display","flex","justify-content","center"],[1,"stopscan",3,"click"],["name","close-outline"],[1,"scan-box",3,"hidden"]],template:function(s,i){1&s&&(t.TgZ(0,"ion-content",0)(1,"ion-row",1)(2,"ion-col",2)(3,"ion-button",3),t.NdJ("click",function(){return i.stopScanner()}),t._UZ(4,"ion-icon",4),t.qZA()()(),t._UZ(5,"div",5),t.qZA()),2&s&&(t.Udp("--background",i.scanActive?"#00000000":"#ffffff"),t.Q6J("fullscreen",!0),t.xp6(1),t.Q6J("hidden",!i.scanActive),t.xp6(4),t.Q6J("hidden",!i.scanActive))},dependencies:[r.YG,r.wI,r.W2,r.gu,r.Nd],styles:['ion-header[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{height:50px}.head[_ngcontent-%COMP%]{text-align:center}.scan-box[_ngcontent-%COMP%]{border:2px solid #fff;box-shadow:0 0 0 100vmax #00000080;content:"";display:block;left:50%;height:300px;position:absolute;top:50%;transform:translate(-50%,-50%);width:300px}.scan-button[_ngcontent-%COMP%]{margin:0;position:absolute;bottom:100px;width:100vw;height:50px;z-index:11}.btn[_ngcontent-%COMP%]{position:absolute;top:50%;left:0;right:0;max-width:250px;margin:auto}.stopscan[_ngcontent-%COMP%]{width:70px;height:70px;border-radius:50%;text-align:center;color:#fff;font-size:20px}ion-button[_ngcontent-%COMP%]{--border-radius: 50%}']}),o})()}];let m=(()=>{class o{}return o.\u0275fac=function(s){return new(s||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[f.Bz.forChild(d),f.Bz]}),o})(),v=(()=>{class o{}return o.\u0275fac=function(s){return new(s||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[P.ez,g.u5,r.Pc,m]}),o})()},6524:(O,y,n)=>{n.d(y,{O:()=>w});var P=n(7582),g=n(520);const f=(0,n(7423).fo)("Network",{web:()=>n.e(4203).then(n.bind(n,4203)).then(h=>new h.NetworkWeb)});var u=n(4893),p=n(2468),C=n(6501);let R="https://api.soeasyapp.com/",w=(()=>{class h{constructor(l,d,m){this.http=l,this.dataservice=d,this.common=m,this.checkInternetConnection()}initiatePayment(l,d){const m={headers:(new g.WM).set("Content-Type","application/json").set("Authorization","PAY46ZGYME1AE6LUR1AVI1701862757.YFGJ11SECKEY")};return new Promise((v,o)=>{this.http.post("https://admin.payomatix.com/payment/merchant/"+d,JSON.stringify(l),m).subscribe(e=>{v(e)},e=>{o(e),"HttpErrorResponse"==e.name&&("Unknown Error"==e.statusText?this.checkInternetConnection():this.common.presentToast("","OK"==e.statusText?"Something Went Wrong...":e.statusText)),console.log("In Chatconnect provider : Error",e)})})}postData(l,d){const m={headers:(new g.WM).set("Content-Type","application/json")};return new Promise((v,o)=>{this.http.post(R+d,JSON.stringify(l),m).subscribe(e=>{v(e)},e=>{o(e),"HttpErrorResponse"==e.name&&("Unknown Error"==e.statusText?this.checkInternetConnection():this.common.presentToast("","OK"==e.statusText?"Something Went Wrong...":e.statusText)),console.log("In Chatconnect provider : Error",e)})})}checkInternetConnection(){return(0,P.mG)(this,void 0,void 0,function*(){(yield f.getStatus()).connected?console.log("Internet is connected"):(console.log("No internet connection"),this.common.presentToast("","Check your internet connection"))})}postFormData(l,d){return new Promise((m,v)=>{const o=(new g.WM).set("Accept","application/json");this.http.post(R+d,l,{headers:o}).subscribe(e=>{m(e)},e=>{v(e)})})}}return h.\u0275fac=function(l){return new(l||h)(u.LFG(g.eN),u.LFG(p.D),u.LFG(C.v))},h.\u0275prov=u.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()}}]);