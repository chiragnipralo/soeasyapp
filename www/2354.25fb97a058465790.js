"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2354],{2354:(I,f,o)=>{o.r(f),o.d(f,{ManageqrPageModule:()=>l});var M=o(9808),p=o(2382),c=o(8058),m=o(2561),h=o(7582),d=o(947),e=o(4893),P=o(6501),C=o(2468),A=o(6524);const x=[{path:"",component:(()=>{class n{constructor(s,t,u,g,T,v,S,O){this.commonservice=s,this.dataservice=t,this.chatconnect=u,this.router=g,this.route=T,this.location=v,this.navCtrl=S,this.modalCtrl=O,this.scanActive=!1,this.qr="urqr"}ngOnInit(){this.route.queryParams.subscribe(s=>{this.scanActive="true"===s.scanActive,this.params1=s.event_id,console.log("this is id in qr page ID ==> ",this.params1),this.scanActive&&this.startScanner()})}checkPermission(){return(0,h.mG)(this,void 0,void 0,function*(){return new Promise((s,t)=>(0,h.mG)(this,void 0,void 0,function*(){const u=yield d.mR.checkPermission({force:!0});u.granted?s(!0):u.denied&&(d.mR.openAppSettings(),s(!1))}))})}startScanner(){return(0,h.mG)(this,void 0,void 0,function*(){if(yield this.checkPermission()){this.scanActive=!0,d.mR.hideBackground();const t=yield d.mR.startScan();if(t.hasContent){this.scanActive=!1;const g=t.content.split(",");let T=g[0],v=g[2],S=void 0!==g[3]?g[3]:0;parseInt(v)==this.params1?this.chatconnect.postData({event_id:v,token:T,type:S},"qr_scanned").then(y=>{this.commonservice.presentToast("",y.Response.message),this.scanActive=!1,this.navCtrl.back()},y=>{console.log("Connection failed Messge")}):(console.log("Event ID From QR ==> ",parseInt(v)),console.log("This Is Event ID ==>",this.params1),this.commonservice.presentToast("Not Found","Not Valid For This Event"))}else alert("NO DATA FOUND!")}else alert("NOT ALLOWED!")})}stopScanner(){d.mR.stopScan(),this.scanActive=!1,this.navCtrl.back()}ionViewWillLeave(){d.mR.stopScan(),this.scanActive=!1}}return n.\u0275fac=function(s){return new(s||n)(e.Y36(P.v),e.Y36(C.D),e.Y36(A.O),e.Y36(m.F0),e.Y36(m.gz),e.Y36(M.Ye),e.Y36(c.SH),e.Y36(c.IN))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-manageqr"]],decls:6,vars:5,consts:[[3,"fullscreen"],[1,"scan-button",3,"hidden"],[1,"ion-no-padding",2,"display","flex","justify-content","center"],[1,"stopscan",3,"click"],["name","close-outline"],[1,"scan-box",3,"hidden"]],template:function(s,t){1&s&&(e.TgZ(0,"ion-content",0)(1,"ion-row",1)(2,"ion-col",2)(3,"ion-button",3),e.NdJ("click",function(){return t.stopScanner()}),e._UZ(4,"ion-icon",4),e.qZA()()(),e._UZ(5,"div",5),e.qZA()),2&s&&(e.Udp("--background",t.scanActive?"#00000000":"#ffffff"),e.Q6J("fullscreen",!0),e.xp6(1),e.Q6J("hidden",!t.scanActive),e.xp6(4),e.Q6J("hidden",!t.scanActive))},dependencies:[c.YG,c.wI,c.W2,c.gu,c.Nd],styles:['ion-header[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{height:50px}.head[_ngcontent-%COMP%]{text-align:center}.scan-box[_ngcontent-%COMP%]{border:2px solid #fff;box-shadow:0 0 0 100vmax #00000080;content:"";display:block;left:50%;height:300px;position:absolute;top:50%;transform:translate(-50%,-50%);width:300px}.scan-button[_ngcontent-%COMP%]{margin:0;position:absolute;bottom:100px;width:100vw;height:50px;z-index:11}.btn[_ngcontent-%COMP%]{position:absolute;top:50%;left:0;right:0;max-width:250px;margin:auto}.stopscan[_ngcontent-%COMP%]{width:70px;height:70px;border-radius:50%;text-align:center;color:#fff;font-size:20px}ion-button[_ngcontent-%COMP%]{--border-radius: 50%}']}),n})()}];let i=(()=>{class n{}return n.\u0275fac=function(s){return new(s||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[m.Bz.forChild(x),m.Bz]}),n})(),l=(()=>{class n{}return n.\u0275fac=function(s){return new(s||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[M.ez,p.u5,c.Pc,i]}),n})()},6524:(I,f,o)=>{o.d(f,{O:()=>A});var M=o(7582),p=o(520);const m=(0,o(7423).fo)("Network",{web:()=>o.e(4203).then(o.bind(o,4203)).then(r=>new r.NetworkWeb)});var h=o(4893),d=o(2468),e=o(6501);let P="https://api.soeasyapp.com/",A=(()=>{class r{constructor(i,l,n){this.http=i,this.dataservice=l,this.common=n,this.checkInternetConnection()}initiatePayment(i,l){const n={headers:(new p.WM).set("Content-Type","application/json").set("Authorization","PAY46ZGYME1AE6LUR1AVI1701862757.YFGJ11SECKEY")};return new Promise((a,s)=>{this.http.post("https://admin.payomatix.com/payment/merchant/"+l,JSON.stringify(i),n).subscribe(t=>{a(t)},t=>{s(t),"HttpErrorResponse"==t.name&&("Unknown Error"==t.statusText?this.checkInternetConnection():this.common.presentToast("","OK"==t.statusText?"Something Went Wrong...":t.statusText)),console.log("In Chatconnect provider : Error",t)})})}postData(i,l){const n={headers:(new p.WM).set("Content-Type","application/json")};return new Promise((a,s)=>{this.http.post(P+l,JSON.stringify(i),n).subscribe(t=>{a(t)},t=>{s(t),"HttpErrorResponse"==t.name&&("Unknown Error"==t.statusText?this.checkInternetConnection():this.common.presentToast("","OK"==t.statusText?"Something Went Wrong...":t.statusText)),console.log("In Chatconnect provider : Error",t)})})}checkInternetConnection(){return(0,M.mG)(this,void 0,void 0,function*(){(yield m.getStatus()).connected?console.log("Internet is connected"):(console.log("No internet connection"),this.common.presentToast("","Check your internet connection"))})}postFormData(i,l){return new Promise((n,a)=>{const s=(new p.WM).set("Accept","application/json");this.http.post(P+l,i,{headers:s}).subscribe(t=>{n(t)},t=>{a(t)})})}}return r.\u0275fac=function(i){return new(i||r)(h.LFG(p.eN),h.LFG(d.D),h.LFG(e.v))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()}}]);