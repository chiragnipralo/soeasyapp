"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3811],{3811:(P,v,i)=>{i.r(v),i.d(v,{AddMemberPageModule:()=>p});var f=i(9808),s=i(2382),n=i(8058),b=i(2561),M=i(7582),e=i(4893),Z=i(6501),_=i(2468),A=i(6524);function T(t,c){if(1&t){const o=e.EpF();e.ynx(0),e.TgZ(1,"div",13),e.NdJ("click",function(){const g=e.CHM(o).$implicit,x=e.oxw(2);return e.KtG(x.selectExistingMember(g))}),e._uU(2),e.qZA(),e.BQk()}if(2&t){const o=c.$implicit;e.xp6(2),e.Oqu(o.user_name)}}function m(t,c){if(1&t){const o=e.EpF();e.TgZ(0,"div",13),e.NdJ("click",function(){e.CHM(o);const r=e.oxw(2);return e.KtG(r.showForm())}),e._uU(1,"Other"),e.qZA()}}function C(t,c){if(1&t&&(e.TgZ(0,"div",10),e.YNc(1,T,3,1,"ng-container",11),e.YNc(2,m,2,0,"div",12),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.Q6J("ngForOf",o.user_lists),e.xp6(1),e.Q6J("ngIf",o.showSearch)}}function l(t,c){if(1&t){const o=e.EpF();e.TgZ(0,"form",14),e.NdJ("ngSubmit",function(){e.CHM(o);const r=e.oxw();return e.KtG(r.submit())}),e.TgZ(1,"div",15)(2,"ion-item",4)(3,"ion-label",5),e._uU(4,"Name"),e.qZA(),e._UZ(5,"ion-icon",16)(6,"ion-input",17),e.qZA(),e.TgZ(7,"ion-item",4)(8,"ion-label",5),e._uU(9,"Email"),e.qZA(),e._UZ(10,"ion-icon",18)(11,"ion-input",19),e.qZA(),e.TgZ(12,"ion-item",4)(13,"ion-label",5),e._uU(14,"Contact Number"),e.qZA(),e._UZ(15,"ion-icon",20)(16,"ion-input",21),e.qZA(),e.TgZ(17,"ion-item",4)(18,"ion-label",5),e._uU(19,"Gender "),e.qZA(),e._UZ(20,"ion-icon",22),e.TgZ(21,"ion-select",23)(22,"ion-select-option",24),e._uU(23,"Male"),e.qZA(),e.TgZ(24,"ion-select-option",25),e._uU(25,"Female"),e.qZA(),e.TgZ(26,"ion-select-option",26),e._uU(27,"Other"),e.qZA()()(),e.TgZ(28,"ion-item",4)(29,"ion-label",5),e._uU(30,"Date Of Birth"),e.qZA(),e._UZ(31,"ion-icon",27)(32,"ion-input",28),e.qZA(),e.TgZ(33,"ion-item",4)(34,"ion-label",5),e._uU(35,"Marital Status"),e.qZA(),e._UZ(36,"ion-icon",29),e.TgZ(37,"ion-select",30)(38,"ion-select-option",31),e._uU(39,"Unmarried"),e.qZA(),e.TgZ(40,"ion-select-option",32),e._uU(41,"Married"),e.qZA()()(),e.TgZ(42,"ion-item",4)(43,"ion-label",5),e._uU(44,"Qualification"),e.qZA(),e._UZ(45,"ion-icon",33),e.TgZ(46,"ion-select",34)(47,"ion-select-option",35),e._uU(48,"10th"),e.qZA(),e.TgZ(49,"ion-select-option",36),e._uU(50,"12th"),e.qZA(),e.TgZ(51,"ion-select-option",37),e._uU(52,"Graduation/Diploma"),e.qZA()()(),e.TgZ(53,"ion-item",4)(54,"ion-label",5),e._uU(55,"Location"),e.qZA(),e._UZ(56,"ion-icon",38)(57,"ion-textarea",39),e.qZA(),e.TgZ(58,"ion-item",4)(59,"ion-label",5),e._uU(60,"Pincode"),e.qZA(),e._UZ(61,"ion-icon",38)(62,"ion-input",40),e.qZA()(),e.TgZ(63,"ion-button",41),e._uU(64),e.qZA()()}if(2&t){const o=e.oxw();e.Q6J("formGroup",o.ionicForm),e.xp6(64),e.hij(" ",o.isEditingExistingMember?"SAVE":"ADD"," ")}}const d=[{path:"",component:(()=>{class t{constructor(o,a,r,g,x,F,U,y,S,O){this.formBuilder=o,this.common=a,this.dataservice=r,this.chatconnect=g,this.router=x,this.navCtrl=F,this.loadingController=U,this.route=y,this.alertController=S,this.location=O,this.isSubmitted=!1,this.isEditingExistingMember=!1,this.user_lists=[],this.ev_managers={},this.showSearch=!1,this.showFormm=!1,this.route.queryParams.subscribe(E=>{this.communityId=+E.value1})}ngOnInit(){console.log("Coomunity_id ==>",this.communityId),(this.showFormm=!0)&&(this.ionicForm=this.formBuilder.group({full_name:[null,[s.kI.required]],email:["",[s.kI.required,s.kI.pattern("[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,3}$")]],contact:["",[s.kI.required,s.kI.minLength(10),s.kI.pattern("^[0-9]+$")]],gender:[""],dob:[""],marital_status:[""],qualification:[""],address:[""],pincode:[""]}))}testFunc(o){if(o.detail.value.length>3){let a={user_token:this.dataservice.getUserData(),search_params:o.detail.value,community_id:this.communityId};this.chatconnect.postData(a,"get_all_users_for_community").then(r=>{console.log(r),1==r.Response.status?this.user_lists=r.Response.all_users:this.common.presentToast("Oops",r.Response.message)},r=>{console.log("Connection failed Messge")}),this.showSearch=!0}else this.showSearch=!1}SetValue(o){console.log("This is User Selected User Details ==> ",o),this.showFormm&&(this.searchTerm=""),this.searchTerm=o.user_name,this.showFormm=!1,this.user_lists=[]}selectExistingMember(o){this.isEditingExistingMember=!0,this.selectedMember=o,this.populateFormWithMemberData()}populateFormWithMemberData(){this.ionicForm.patchValue({full_name:this.selectedMember.user_name,email:this.selectedMember.email,contact:this.selectedMember.mobile,gender:this.selectedMember.gender,dob:this.selectedMember.dob,marital_status:this.selectedMember.marital_status,qualification:this.selectedMember.qualification,address:this.selectedMember.address,pincode:this.selectedMember.pincode})}showForm(){console.log("Click on show Form!!"),this.searchTerm="",this.user_lists=[],this.showSearch=!1,this.showFormm=!0,this.isEditingExistingMember=!1,this.ionicForm.reset()}submit(){return(0,M.mG)(this,void 0,void 0,function*(){if(this.isSubmitted=!0,this.ionicForm.markAllAsTouched(),console.log(this.ionicForm),this.ionicForm.valid){this.common.show("Please Wait");let o={user_token:this.dataservice.getUserData(),community_id:this.communityId,member_id:this.selectedMember.id,full_name:this.ionicForm.value.full_name,email:this.ionicForm.value.email,contact:this.ionicForm.value.contact,gender:this.ionicForm.value.gender,dob:this.ionicForm.value.dob,marital_status:this.ionicForm.value.marital_status,qualification:this.ionicForm.value.qualification,address:this.ionicForm.value.address,pincode:this.ionicForm.value.pincode,sender_role:"superadmin"};console.log("This is API Data==> ",o),console.log("This Is data==>",this.ionicForm.value),this.chatconnect.postData(o,"add_member").then(a=>{console.log(a),this.common.hide(),1==a.Response.status?(this.location.back(),this.common.presentToast("",a.Response.message)):this.common.presentToast("",a.Response.message)},a=>{this.common.hide(),console.log("Connection failed Messge")})}else(yield this.alertController.create({header:"Please Enter",subHeader:"Please Enter all details",buttons:["Dismiss"]})).present()})}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(s.qu),e.Y36(Z.v),e.Y36(_.D),e.Y36(A.O),e.Y36(b.F0),e.Y36(n.SH),e.Y36(n.HT),e.Y36(b.gz),e.Y36(n.Br),e.Y36(f.Ye))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-add-member"]],decls:16,vars:3,consts:[[1,"top"],["slot","start"],["text","","icon","arrow-back-outline"],[1,"container"],["fill","outline"],["position","floating"],["slot","start","name","search"],["placeholder","Search",1,"loading",3,"ngModel","ionChange","ngModelChange"],["class","search_result",4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"search_result"],[4,"ngFor","ngForOf"],[3,"click",4,"ngIf"],[3,"click"],[3,"formGroup","ngSubmit"],[1,"container",2,"margin-bottom","35px"],["slot","start","name","person"],["formControlName","full_name","label-placement","floating","type","text","placeholder","Full Name"],["slot","start","name","mail"],["formControlName","email","placeholder","Email",1,"ion-padding-start"],["slot","start","name","call"],["formControlName","contact","placeholder","Contact Number",1,"ion-padding-start"],["slot","start","slot","start","name","male-female"],["formControlName","gender","placeholder","Gender","interface","popover",1,"ion-padding-start"],["value","Male"],["value","Female"],["value","Ohter"],["slot","start","name","calendar"],["formControlName","dob","type","date",1,"ion-padding-start"],["slot","start","name","people"],["formControlName","marital_status","interface","popover","placeholder","Marital Status",1,"ion-padding-start"],["value","unmarried"],["value","married"],["slot","start","name","document-attach"],["formControlName","qualification","interface","popover","placeholder","Qualification",1,"ion-padding-start"],["value","10"],["value","12"],["value","gra"],["slot","start","name","location"],["formControlName","address","placeholder","Address",1,"ion-padding-start"],["formControlName","pincode","type","tel","placeholder","Pincode",1,"ion-padding-start"],["expand","block","type","submit","shape","round","color","secondary"]],template:function(o,a){1&o&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"div",0)(3,"ion-buttons",1),e._UZ(4,"ion-back-button",2),e.qZA(),e.TgZ(5,"ion-title"),e._uU(6,"Add Members"),e.qZA()()()(),e.TgZ(7,"ion-content")(8,"div",3)(9,"ion-item",4)(10,"ion-label",5),e._uU(11,"Search Members"),e.qZA(),e._UZ(12,"ion-icon",6),e.TgZ(13,"ion-input",7),e.NdJ("ionChange",function(g){return a.testFunc(g)})("ngModelChange",function(g){return a.searchTerm=g}),e.qZA()()(),e.YNc(14,C,3,2,"div",8),e.YNc(15,l,65,2,"form",9),e.qZA()),2&o&&(e.xp6(13),e.Q6J("ngModel",a.searchTerm),e.xp6(1),e.Q6J("ngIf",a.showSearch),e.xp6(1),e.Q6J("ngIf",a.showFormm||a.isEditingExistingMember))},dependencies:[f.sg,f.O5,s._Y,s.JJ,s.JL,s.On,s.sg,s.u,n.oU,n.YG,n.Sm,n.W2,n.Gu,n.gu,n.pK,n.Ie,n.Q$,n.t9,n.n0,n.g2,n.wd,n.sr,n.QI,n.j9,n.cs],styles:[".top[_ngcontent-%COMP%]{display:flex;align-items:center}.top[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{text-align:center;position:absolute;inset:0}.search_result[_ngcontent-%COMP%]{margin:0 15px;padding:0 10px}.search_result[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:14px;border-bottom:1px solid;padding:10px}.container[_ngcontent-%COMP%]{padding:15px 15px 0}ion-item[_ngcontent-%COMP%]{border:1px solid #285500;border-radius:5px;margin-bottom:10px}ion-item[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%], ion-item[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%], ion-item[_ngcontent-%COMP%]   ion-textarea[_ngcontent-%COMP%]{--padding-start: 10px}.file[_ngcontent-%COMP%]{margin-top:15px}ion-button[_ngcontent-%COMP%]{margin:10px auto;max-width:222px}"]}),t})()}];let h=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[b.Bz.forChild(d),b.Bz]}),t})(),p=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[f.ez,s.u5,s.UX,n.Pc,h]}),t})()},6524:(P,v,i)=>{i.d(v,{O:()=>T});var f=i(7582),s=i(520);const b=(0,i(7423).fo)("Network",{web:()=>i.e(4203).then(i.bind(i,4203)).then(m=>new m.NetworkWeb)});var M=i(4893),e=i(2468),Z=i(6501);let _="https://api.soeasyapp.com/",T=(()=>{class m{constructor(l,u,d){this.http=l,this.dataservice=u,this.common=d,this.checkInternetConnection()}initiatePayment(l,u){const d={headers:(new s.WM).set("Content-Type","application/json").set("Authorization","PAY46ZGYME1AE6LUR1AVI1701862757.YFGJ11SECKEY")};return new Promise((h,p)=>{this.http.post("https://admin.payomatix.com/payment/merchant/"+u,JSON.stringify(l),d).subscribe(t=>{h(t)},t=>{p(t),"HttpErrorResponse"==t.name&&("Unknown Error"==t.statusText?this.checkInternetConnection():this.common.presentToast("","OK"==t.statusText?"Something Went Wrong...":t.statusText)),console.log("In Chatconnect provider : Error",t)})})}postData(l,u){const d={headers:(new s.WM).set("Content-Type","application/json")};return new Promise((h,p)=>{this.http.post(_+u,JSON.stringify(l),d).subscribe(t=>{h(t)},t=>{p(t),"HttpErrorResponse"==t.name&&("Unknown Error"==t.statusText?this.checkInternetConnection():this.common.presentToast("","OK"==t.statusText?"Something Went Wrong...":t.statusText)),console.log("In Chatconnect provider : Error",t)})})}checkInternetConnection(){return(0,f.mG)(this,void 0,void 0,function*(){(yield b.getStatus()).connected?console.log("Internet is connected"):(console.log("No internet connection"),this.common.presentToast("","Check your internet connection"))})}postFormData(l,u){return new Promise((d,h)=>{const p=(new s.WM).set("Accept","application/json");this.http.post(_+u,l,{headers:p}).subscribe(t=>{d(t)},t=>{h(t)})})}}return m.\u0275fac=function(l){return new(l||m)(M.LFG(s.eN),M.LFG(e.D),M.LFG(Z.v))},m.\u0275prov=M.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()}}]);