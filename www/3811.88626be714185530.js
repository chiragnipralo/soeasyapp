"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3811],{3811:(C,v,s)=>{s.r(v),s.d(v,{AddMemberPageModule:()=>Q});var p=s(9808),n=s(2382),r=s(8058),x=s(2561),b=s(7582),e=s(4893),Z=s(6501),M=s(2468),A=s(6524);function T(o,i){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",13),e.NdJ("click",function(){const f=e.CHM(t).$implicit,P=e.oxw(2);return e.KtG(P.selectExistingMember(f))}),e._uU(2),e.qZA(),e.BQk()}if(2&o){const t=i.$implicit;e.xp6(2),e.Oqu(t.user_name)}}function d(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",13),e.NdJ("click",function(){e.CHM(t);const l=e.oxw(2);return e.KtG(l.showForm())}),e._uU(1,"Other"),e.qZA()}}function F(o,i){if(1&o&&(e.TgZ(0,"div",10),e.YNc(1,T,3,1,"ng-container",11),e.YNc(2,d,2,0,"div",12),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.user_lists),e.xp6(1),e.Q6J("ngIf",t.showSearch)}}function m(o,i){1&o&&(e.TgZ(0,"ion-text",44),e._uU(1,"Name is required"),e.qZA())}function u(o,i){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,m,2,0,"ion-text",43),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.ionicForm.get("full_name").errors?null:t.ionicForm.get("full_name").errors.required)}}function g(o,i){1&o&&(e.TgZ(0,"ion-text",44),e._uU(1,"Email is required"),e.qZA())}function h(o,i){1&o&&(e.TgZ(0,"ion-text",44),e._uU(1,"Please enter a valid email"),e.qZA())}function _(o,i){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,g,2,0,"ion-text",43),e.YNc(2,h,2,0,"ion-text",43),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.ionicForm.get("email").errors?null:t.ionicForm.get("email").errors.required),e.xp6(1),e.Q6J("ngIf",null==t.ionicForm.get("email").errors?null:t.ionicForm.get("email").errors.pattern)}}function a(o,i){1&o&&(e.TgZ(0,"ion-text",44),e._uU(1,"Contact number is required"),e.qZA())}function U(o,i){1&o&&(e.TgZ(0,"ion-text",44),e._uU(1,"Please enter a valid contact number"),e.qZA())}function I(o,i){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,a,2,0,"ion-text",43),e.YNc(2,U,2,0,"ion-text",43),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.ionicForm.get("contact").errors?null:t.ionicForm.get("contact").errors.required),e.xp6(1),e.Q6J("ngIf",null==t.ionicForm.get("contact").errors?null:t.ionicForm.get("contact").errors.pattern)}}function q(o,i){1&o&&(e.TgZ(0,"ion-text",44),e._uU(1,"Date of Birth is required"),e.qZA())}function y(o,i){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,q,2,0,"ion-text",43),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.ionicForm.get("dob").errors?null:t.ionicForm.get("dob").errors.required)}}function N(o,i){1&o&&(e.TgZ(0,"ion-text",44),e._uU(1,"Please enter a valid pincode"),e.qZA())}function Y(o,i){1&o&&(e.TgZ(0,"ion-text",44),e._uU(1,"Pincode must be 6 digits"),e.qZA())}function S(o,i){1&o&&(e.TgZ(0,"ion-text",44),e._uU(1,"Pincode must be 6 digits"),e.qZA())}function w(o,i){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,N,2,0,"ion-text",43),e.YNc(2,Y,2,0,"ion-text",43),e.YNc(3,S,2,0,"ion-text",43),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.ionicForm.get("pincode").errors?null:t.ionicForm.get("pincode").errors.pattern),e.xp6(1),e.Q6J("ngIf",null==t.ionicForm.get("pincode").errors?null:t.ionicForm.get("pincode").errors.minlength),e.xp6(1),e.Q6J("ngIf",null==t.ionicForm.get("pincode").errors?null:t.ionicForm.get("pincode").errors.maxlength)}}function J(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"form",14),e.NdJ("ngSubmit",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.submit())}),e.TgZ(1,"div",15)(2,"ion-item",4)(3,"ion-label",5),e._uU(4,"Name"),e.qZA(),e._UZ(5,"ion-icon",16)(6,"ion-input",17),e.qZA(),e.YNc(7,u,2,1,"div",18),e.TgZ(8,"ion-item",4)(9,"ion-label",5),e._uU(10,"Email"),e.qZA(),e._UZ(11,"ion-icon",19)(12,"ion-input",20),e.qZA(),e.YNc(13,_,3,2,"div",18),e.TgZ(14,"ion-item",4)(15,"ion-label",5),e._uU(16,"Contact Number"),e.qZA(),e._UZ(17,"ion-icon",21)(18,"ion-input",22),e.qZA(),e.YNc(19,I,3,2,"div",18),e.TgZ(20,"ion-item",4)(21,"ion-label",5),e._uU(22,"Gender "),e.qZA(),e._UZ(23,"ion-icon",23),e.TgZ(24,"ion-select",24)(25,"ion-select-option",25),e._uU(26,"Male"),e.qZA(),e.TgZ(27,"ion-select-option",26),e._uU(28,"Female"),e.qZA(),e.TgZ(29,"ion-select-option",27),e._uU(30,"Other"),e.qZA()()(),e.TgZ(31,"ion-item",4)(32,"ion-label",5),e._uU(33,"Date Of Birth"),e.qZA(),e._UZ(34,"ion-icon",28)(35,"ion-input",29),e.qZA(),e.YNc(36,y,2,1,"div",18),e.TgZ(37,"ion-item",4)(38,"ion-label",5),e._uU(39,"Marital Status"),e.qZA(),e._UZ(40,"ion-icon",30),e.TgZ(41,"ion-select",31)(42,"ion-select-option",32),e._uU(43,"Unmarried"),e.qZA(),e.TgZ(44,"ion-select-option",33),e._uU(45,"Married"),e.qZA()()(),e.TgZ(46,"ion-item",4)(47,"ion-label",5),e._uU(48,"Qualification"),e.qZA(),e._UZ(49,"ion-icon",34),e.TgZ(50,"ion-select",35)(51,"ion-select-option",36),e._uU(52,"10th"),e.qZA(),e.TgZ(53,"ion-select-option",37),e._uU(54,"12th"),e.qZA(),e.TgZ(55,"ion-select-option",38),e._uU(56,"Graduation/Diploma"),e.qZA()()(),e.TgZ(57,"ion-item",4)(58,"ion-label",5),e._uU(59,"Location"),e.qZA(),e._UZ(60,"ion-icon",39)(61,"ion-textarea",40),e.qZA(),e.TgZ(62,"ion-item",4)(63,"ion-label",5),e._uU(64,"Pincode"),e.qZA(),e._UZ(65,"ion-icon",39)(66,"ion-input",41),e.qZA(),e.YNc(67,w,4,3,"div",18),e.qZA(),e.TgZ(68,"ion-button",42),e._uU(69),e.qZA()()}if(2&o){const t=e.oxw();e.Q6J("formGroup",t.ionicForm),e.xp6(7),e.Q6J("ngIf",t.ionicForm.get("full_name").invalid&&(t.ionicForm.get("full_name").dirty||t.ionicForm.get("full_name").touched)),e.xp6(6),e.Q6J("ngIf",t.ionicForm.get("email").invalid&&(t.ionicForm.get("email").dirty||t.ionicForm.get("email").touched)),e.xp6(6),e.Q6J("ngIf",t.ionicForm.get("contact").invalid&&(t.ionicForm.get("contact").dirty||t.ionicForm.get("contact").touched)),e.xp6(16),e.Q6J("max",t.maxDate),e.xp6(1),e.Q6J("ngIf",t.ionicForm.get("dob").invalid&&(t.ionicForm.get("dob").dirty||t.ionicForm.get("dob").touched)),e.xp6(31),e.Q6J("ngIf",t.ionicForm.get("pincode").invalid&&(t.ionicForm.get("pincode").dirty||t.ionicForm.get("pincode").touched)),e.xp6(2),e.hij(" ",t.isEditingExistingMember?"SAVE":"ADD"," ")}}const O=[{path:"",component:(()=>{class o{constructor(t,c,l,f,P,k,D,G,W,R,B){this.formBuilder=t,this.common=c,this.dataservice=l,this.chatconnect=f,this.router=P,this.navCtrl=k,this.loadingController=D,this.route=G,this.alertController=W,this.location=R,this.datePipe=B,this.isSubmitted=!1,this.isEditingExistingMember=!1,this.user_lists=[],this.ev_managers={},this.showSearch=!1,this.showFormm=!1;const H=new Date;this.maxDate=this.datePipe.transform(H,"yyyy-MM-dd"),this.route.queryParams.subscribe(z=>{this.communityId=+z.value1})}ngOnInit(){console.log("Community_id ==>",this.communityId),(this.showFormm=!0)&&(this.ionicForm=this.formBuilder.group({full_name:[null,[n.kI.required]],email:["",[n.kI.required,n.kI.pattern("[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,3}$")]],contact:["",[n.kI.required,n.kI.minLength(10),n.kI.pattern("^[0-9]+$")]],gender:[""],dob:["",n.kI.required],marital_status:[""],qualification:[""],address:[""],pincode:["",[n.kI.pattern("^[0-9]+$"),n.kI.minLength(6),n.kI.maxLength(6)]]}))}testFunc(t){if(t.detail.value.length>3){let c={user_token:this.dataservice.getUserData(),search_params:t.detail.value,community_id:this.communityId};this.chatconnect.postData(c,"get_all_users_for_community").then(l=>{console.log(l),1==l.Response.status?this.user_lists=l.Response.all_users:this.common.presentToast("Oops",l.Response.message)},l=>{console.log("Connection failed Message")}),this.showSearch=!0}else this.showSearch=!1}SetValue(t){console.log("This is User Selected User Details ==> ",t),this.showFormm&&(this.searchTerm=""),this.searchTerm=t.user_name,this.showFormm=!1,this.user_lists=[]}selectExistingMember(t){this.isEditingExistingMember=!0,this.selectedMember=t,this.populateFormWithMemberData()}populateFormWithMemberData(){this.ionicForm.patchValue({full_name:this.selectedMember.user_name,email:this.selectedMember.email,contact:this.selectedMember.mobile,gender:this.selectedMember.gender,dob:this.selectedMember.dob,marital_status:this.selectedMember.marital_status,qualification:this.selectedMember.qualification,address:this.selectedMember.address,pincode:this.selectedMember.pincode})}showForm(){console.log("Click on show Form!!"),this.searchTerm="",this.user_lists=[],this.showSearch=!1,this.showFormm=!0,this.isEditingExistingMember=!1,this.ionicForm.reset()}submit(){return(0,b.mG)(this,void 0,void 0,function*(){if(this.isSubmitted=!0,this.ionicForm.markAllAsTouched(),console.log(this.ionicForm),this.ionicForm.valid){this.common.show("Please Wait");let t={user_token:this.dataservice.getUserData(),community_id:this.communityId,member_id:this.selectedMember?this.selectedMember.id:null,full_name:this.ionicForm.value.full_name,email:this.ionicForm.value.email,contact:this.ionicForm.value.contact,gender:this.ionicForm.value.gender,dob:this.ionicForm.value.dob,marital_status:this.ionicForm.value.marital_status,qualification:this.ionicForm.value.qualification,address:this.ionicForm.value.address,pincode:this.ionicForm.value.pincode,sender_role:"superadmin"};console.log("This is API Data==> ",t),console.log("This Is data==>",this.ionicForm.value),this.chatconnect.postData(t,"add_member").then(c=>{console.log(c),this.common.hide(),1==c.Response.status?(this.location.back(),this.common.presentToast("",c.Response.message)):this.common.presentToast("",c.Response.message)},c=>{this.common.hide(),console.log("Connection failed Message")})}else(yield this.alertController.create({header:"Please Enter",subHeader:"Please Enter all details",buttons:["Dismiss"]})).present()})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(n.qu),e.Y36(Z.v),e.Y36(M.D),e.Y36(A.O),e.Y36(x.F0),e.Y36(r.SH),e.Y36(r.HT),e.Y36(x.gz),e.Y36(r.Br),e.Y36(p.Ye),e.Y36(p.uU))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-add-member"]],features:[e._Bn([p.uU])],decls:16,vars:3,consts:[[1,"top"],["slot","start"],["text","","icon","arrow-back-outline"],[1,"container"],["fill","outline"],["position","floating"],["slot","start","name","search"],["placeholder","Search",1,"loading",3,"ngModel","ionChange","ngModelChange"],["class","search_result",4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"search_result"],[4,"ngFor","ngForOf"],[3,"click",4,"ngIf"],[3,"click"],[3,"formGroup","ngSubmit"],[1,"container",2,"margin-bottom","35px"],["slot","start","name","person"],["formControlName","full_name","label-placement","floating","type","text","placeholder","Full Name"],[4,"ngIf"],["slot","start","name","mail"],["formControlName","email","placeholder","Email",1,"ion-padding-start"],["slot","start","name","call"],["formControlName","contact","placeholder","Contact Number",1,"ion-padding-start"],["slot","start","name","male-female"],["formControlName","gender","placeholder","Gender","interface","popover",1,"ion-padding-start"],["value","Male"],["value","Female"],["value","Other"],["slot","start","name","calendar"],["formControlName","dob","type","date",1,"ion-padding-start",3,"max"],["slot","start","name","people"],["formControlName","marital_status","interface","popover","placeholder","Marital Status",1,"ion-padding-start"],["value","unmarried"],["value","married"],["slot","start","name","document-attach"],["formControlName","qualification","interface","popover","placeholder","Qualification",1,"ion-padding-start"],["value","10"],["value","12"],["value","gra"],["slot","start","name","location"],["formControlName","address","placeholder","Address",1,"ion-padding-start"],["formControlName","pincode","type","tel","placeholder","Pincode",1,"ion-padding-start"],["expand","block","type","submit","shape","round","color","secondary"],["color","danger",4,"ngIf"],["color","danger"]],template:function(t,c){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"div",0)(3,"ion-buttons",1),e._UZ(4,"ion-back-button",2),e.qZA(),e.TgZ(5,"ion-title"),e._uU(6,"Add Members"),e.qZA()()()(),e.TgZ(7,"ion-content")(8,"div",3)(9,"ion-item",4)(10,"ion-label",5),e._uU(11,"Search Members"),e.qZA(),e._UZ(12,"ion-icon",6),e.TgZ(13,"ion-input",7),e.NdJ("ionChange",function(f){return c.testFunc(f)})("ngModelChange",function(f){return c.searchTerm=f}),e.qZA()()(),e.YNc(14,F,3,2,"div",8),e.YNc(15,J,70,8,"form",9),e.qZA()),2&t&&(e.xp6(13),e.Q6J("ngModel",c.searchTerm),e.xp6(1),e.Q6J("ngIf",c.showSearch),e.xp6(1),e.Q6J("ngIf",c.showFormm||c.isEditingExistingMember))},dependencies:[p.sg,p.O5,n._Y,n.JJ,n.JL,n.On,n.sg,n.u,r.oU,r.YG,r.Sm,r.W2,r.Gu,r.gu,r.pK,r.Ie,r.Q$,r.t9,r.n0,r.yW,r.g2,r.wd,r.sr,r.QI,r.j9,r.cs],styles:[".top[_ngcontent-%COMP%]{display:flex;align-items:center}.top[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{text-align:center;position:absolute;inset:0}.search_result[_ngcontent-%COMP%]{margin:0 15px;padding:0 10px}.search_result[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:14px;border-bottom:1px solid;padding:10px}.container[_ngcontent-%COMP%]{padding:15px 15px 0}ion-item[_ngcontent-%COMP%]{border:1px solid #285500;border-radius:5px;margin-bottom:10px}ion-item[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%], ion-item[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%], ion-item[_ngcontent-%COMP%]   ion-textarea[_ngcontent-%COMP%]{--padding-start: 10px}.file[_ngcontent-%COMP%]{margin-top:15px}ion-button[_ngcontent-%COMP%]{margin:10px auto;max-width:222px}"]}),o})()}];let E=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[x.Bz.forChild(O),x.Bz]}),o})(),Q=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[p.ez,n.u5,n.UX,r.Pc,E]}),o})()},6524:(C,v,s)=>{s.d(v,{O:()=>T});var p=s(7582),n=s(520);const x=(0,s(7423).fo)("Network",{web:()=>s.e(4203).then(s.bind(s,4203)).then(d=>new d.NetworkWeb)});var b=s(4893),e=s(2468),Z=s(6501);let M="https://api.soeasyapp.com/",T=(()=>{class d{constructor(m,u,g){this.http=m,this.dataservice=u,this.common=g,this.checkInternetConnection()}initiatePayment(m,u){const g={headers:(new n.WM).set("Content-Type","application/json").set("Authorization","PAY46ZGYME1AE6LUR1AVI1701862757.YFGJ11SECKEY")};return new Promise((h,_)=>{this.http.post("https://admin.payomatix.com/payment/merchant/"+u,JSON.stringify(m),g).subscribe(a=>{h(a)},a=>{_(a),"HttpErrorResponse"==a.name&&("Unknown Error"==a.statusText?this.checkInternetConnection():this.common.presentToast("","OK"==a.statusText?"Something Went Wrong...":a.statusText)),console.log("In Chatconnect provider : Error",a)})})}postData(m,u){const g={headers:(new n.WM).set("Content-Type","application/json")};return new Promise((h,_)=>{this.http.post(M+u,JSON.stringify(m),g).subscribe(a=>{h(a)},a=>{_(a),"HttpErrorResponse"==a.name&&("Unknown Error"==a.statusText?this.checkInternetConnection():this.common.presentToast("","OK"==a.statusText?"Something Went Wrong...":a.statusText)),console.log("In Chatconnect provider : Error",a)})})}checkInternetConnection(){return(0,p.mG)(this,void 0,void 0,function*(){(yield x.getStatus()).connected?console.log("Internet is connected"):(console.log("No internet connection"),this.common.presentToast("","Check your internet connection"))})}postFormData(m,u){return new Promise((g,h)=>{const _=(new n.WM).set("Accept","application/json");this.http.post(M+u,m,{headers:_}).subscribe(a=>{g(a)},a=>{h(a)})})}}return d.\u0275fac=function(m){return new(m||d)(b.LFG(n.eN),b.LFG(e.D),b.LFG(Z.v))},d.\u0275prov=b.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()}}]);