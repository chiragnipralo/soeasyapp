"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4934],{4934:(_,M,o)=>{o.r(M),o.d(M,{TicketPageModule:()=>u});var d=o(9808),f=o(2382),i=o(8058),C=o(2561),P=o(7582),t=o(4893),x=o(6501),v=o(2468),O=o(6524);function k(n,r){1&n&&(t.TgZ(0,"div",14)(1,"p"),t._uU(2,"Scanned"),t.qZA()())}function a(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",15),t.NdJ("click",function(){t.CHM(e);const m=t.oxw().$implicit,p=t.oxw();return t.KtG(p.deleteTicket(m))}),t._UZ(1,"ion-icon",16),t.qZA()}}const T=function(n){return{scanned:n}};function s(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"ion-card",6)(2,"ion-card-header"),t._UZ(3,"img",7),t.qZA(),t.TgZ(4,"ion-row")(5,"ion-col",8),t._UZ(6,"ion-img",9),t.qZA(),t.TgZ(7,"ion-col",10)(8,"h4")(9,"b"),t._uU(10),t.qZA()(),t.TgZ(11,"h6",11),t._uU(12),t.qZA(),t.TgZ(13,"h6"),t._uU(14),t.qZA()(),t.YNc(15,k,3,0,"div",12),t.YNc(16,a,2,0,"div",13),t.qZA()(),t.BQk()),2&n){const e=r.$implicit,c=t.oxw();t.xp6(1),t.Q6J("ngClass",t.VKq(7,T,0==e.scan_count)),t.xp6(5),t.Q6J("src",e.qr),t.xp6(4),t.hij(" Ticket ",c.count,""),t.xp6(2),t.Oqu(e.user_name),t.xp6(2),t.Oqu(e.user_number),t.xp6(1),t.Q6J("ngIf",0===e.scan_count&&"free"===c.ticketType),t.xp6(1),t.Q6J("ngIf",e.scan_count>0&&"free"==c.ticketType)}}const l=[{path:"",component:(()=>{class n{constructor(e,c,m,p,y,Z,w,b,A){this.alertController=e,this.commonservice=c,this.dataservice=m,this.modalController=p,this._route=y,this.location=Z,this.mapmodal=w,this.chatconnect=b,this._router=A,this.ticket_data=[]}ngOnInit(){}getRange(e){return Array(e).fill(0).map((c,m)=>m+1)}ionViewDidEnter(){this.ticketType=this._route.snapshot.params.business,console.log("TIcket",this.ticketType),this.show_ticket()}show_ticket(){this.commonservice.show();let e={user_token:this.dataservice.getUserData(),event_id:this._route.snapshot.params.event_id,type:this._route.snapshot.params.business};console.log("This is API Data ==>",e),this.chatconnect.postData(e,"show_ticket").then(c=>{this.commonservice.hide(),console.log(c),1==c.Response.status?this.ticket_data=c.Response.show_ticket:this.commonservice.presentToast("Oops",c.Response.message)},c=>{console.log("Connection failed Message")})}deleteTicket(e){return(0,P.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:"Confirm",message:"Are you sure you want to delete this ticket?",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary"},{text:"Yes",handler:()=>{let m={user_token:this.dataservice.getUserData(),event_id:this._route.snapshot.params.event_id,token:e.token,type:this._route.snapshot.params.business};this.chatconnect.postData(m,"cancel_ticket").then(p=>{1==p.Response.status?(this.location.back(),this.commonservice.presentToast("",p.Response.message)):this.commonservice.presentToast("Oops",p.Response.message)},p=>{console.log("Connection failed Messge")})}}]})).present()})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(i.Br),t.Y36(x.v),t.Y36(v.D),t.Y36(i.IN),t.Y36(C.gz),t.Y36(d.Ye),t.Y36(i.IN),t.Y36(O.O),t.Y36(C.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-ticket"]],decls:9,vars:3,consts:[[3,"translucent"],["slot","start"],["text","","icon","arrow-back-outline"],[3,"fullscreen"],[1,"container"],[4,"ngFor","ngForOf"],[1,"modal-content",3,"ngClass"],["src","../../../assets/images/logo.png"],["size","6"],[3,"src"],["size","6",2,"color","black"],[2,"text-transform","capitalize"],["class","scanned_title",4,"ngIf"],["class","cancel_ticket",3,"click",4,"ngIf"],[1,"scanned_title"],[1,"cancel_ticket",3,"click"],["name","close-circle-outline"]],template:function(e,c){1&e&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),t._UZ(3,"ion-back-button",2),t.qZA(),t.TgZ(4,"ion-title"),t._uU(5,"My Ticket"),t.qZA()()(),t.TgZ(6,"ion-content",3)(7,"div",4),t.YNc(8,s,17,9,"ng-container",5),t.qZA()()),2&e&&(t.Q6J("translucent",!0),t.xp6(6),t.Q6J("fullscreen",!0),t.xp6(2),t.Q6J("ngForOf",c.ticket_data))},dependencies:[d.mk,d.sg,d.O5,i.oU,i.Sm,i.PM,i.Zi,i.wI,i.W2,i.Gu,i.gu,i.Xz,i.Nd,i.wd,i.sr,i.cs],styles:["ion-toolbar[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{text-align:center;position:absolute;inset:0}.container[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{height:233px;max-width:388px;position:relative;border-radius:15px;margin:15px}.container[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{padding:10px 0;display:flex;justify-content:center;background:#f3f3f3}.container[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:33px;width:66px}.container[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{height:100%}.container[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{height:100%}.container[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{height:150px;width:150px;margin:auto}@media (max-width: 280px){.container[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{height:100px;width:100px}}.container[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]::part(image){object-fit:cover}.container[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   .share_icon[_ngcontent-%COMP%]{font-size:20px;position:absolute;top:10px;right:10px}.container[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   .delete_icon[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;font-size:23px;color:red}.container[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   .cancel_ticket[_ngcontent-%COMP%]{position:absolute;top:12px;right:12px}.container[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   .cancel_ticket[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:25px;color:red}.scanned[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.scanned_title[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;align-items:center;justify-content:center}.scanned_title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background:#85ca69;width:100%;text-align:center;padding:10px;font-size:16px}"]}),n})()}];let h=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[C.Bz.forChild(l),C.Bz]}),n})(),u=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[d.ez,f.u5,i.Pc,h]}),n})()},6524:(_,M,o)=>{o.d(M,{O:()=>k});var d=o(7582),f=o(520);const C=(0,o(7423).fo)("Network",{web:()=>o.e(4203).then(o.bind(o,4203)).then(a=>new a.NetworkWeb)});var P=o(4893),t=o(2468),x=o(6501);let v="https://api.soeasyapp.com/",k=(()=>{class a{constructor(s,g,l){this.http=s,this.dataservice=g,this.common=l,this.checkInternetConnection()}initiatePayment(s,g){const l={headers:(new f.WM).set("Content-Type","application/json").set("Authorization","PAY46ZGYME1AE6LUR1AVI1701862757.YFGJ11SECKEY")};return new Promise((h,u)=>{this.http.post("https://admin.payomatix.com/payment/merchant/"+g,JSON.stringify(s),l).subscribe(n=>{h(n)},n=>{u(n),"HttpErrorResponse"==n.name&&("Unknown Error"==n.statusText?this.checkInternetConnection():this.common.presentToast("","OK"==n.statusText?"Something Went Wrong...":n.statusText)),console.log("In Chatconnect provider : Error",n)})})}postData(s,g){const l={headers:(new f.WM).set("Content-Type","application/json")};return new Promise((h,u)=>{this.http.post(v+g,JSON.stringify(s),l).subscribe(n=>{h(n)},n=>{u(n),"HttpErrorResponse"==n.name&&("Unknown Error"==n.statusText?this.checkInternetConnection():this.common.presentToast("","OK"==n.statusText?"Something Went Wrong...":n.statusText)),console.log("In Chatconnect provider : Error",n)})})}checkInternetConnection(){return(0,d.mG)(this,void 0,void 0,function*(){(yield C.getStatus()).connected?console.log("Internet is connected"):(console.log("No internet connection"),this.common.presentToast("","Check your internet connection"))})}postFormData(s,g){return new Promise((l,h)=>{const u=(new f.WM).set("Accept","application/json");this.http.post(v+g,s,{headers:u}).subscribe(n=>{l(n)},n=>{h(n)})})}}return a.\u0275fac=function(s){return new(s||a)(P.LFG(f.eN),P.LFG(t.D),P.LFG(x.v))},a.\u0275prov=P.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()}}]);