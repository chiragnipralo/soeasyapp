"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6110],{1091:(Y,T,a)=>{a.d(T,{b:()=>O});var t=a(4893),p=a(6501),l=a(2468),h=a(8058),f=a(9808),P=a(3877);const e=["cropper"];function E(u,I){if(1&u){const n=t.EpF();t.TgZ(0,"ion-button",7),t.NdJ("click",function(){t.CHM(n);const d=t.oxw();return t.KtG(d.close())}),t._UZ(1,"ion-icon",8),t.qZA()}}function y(u,I){if(1&u){const n=t.EpF();t.TgZ(0,"ion-button",7),t.NdJ("click",function(){t.CHM(n);const d=t.oxw();return t.KtG(d.cropImage())}),t._UZ(1,"ion-icon",9),t.qZA()}}let O=(()=>{class u{constructor(n,s,d){this.commonservice=n,this.dataservice=s,this.modalController=d,this.myImage=null,this.imageChangedEvent="",this.croppedImage="",this.scale=1,this.transform={}}ngOnInit(){}imageLoaded(){}imageCropped(n){this.croppedImage=n.base64}loadImageFailed(){console.log("Image load failed!")}fileChangeEvent(n){this.imageChangedEvent=n}cropImage(){this.cropper&&this.cropper.crop()&&this.cropper.crop().base64&&(this.croppedImage=this.cropper.crop().base64),this.myImage=null,this.modalController.dismiss({dismissed:!0,cropped_image:this.croppedImage})}close(){this.myImage=null,this.croppedImage=null,this.modalController.dismiss()}discardChanges(){this.myImage=null,this.croppedImage=null}rotate(){var n;const s=((null!==(n=this.transform.rotate)&&void 0!==n?n:0)+90)%360;this.transform=Object.assign(Object.assign({},this.transform),{rotate:s})}zoomOut(){this.scale=Math.max(.1,this.scale-.1),this.transform=Object.assign(Object.assign({},this.transform),{scale:this.scale})}zoomIn(){this.scale=Math.min(3,this.scale+.1),this.transform=Object.assign(Object.assign({},this.transform),{scale:this.scale})}}return u.\u0275fac=function(n){return new(n||u)(t.Y36(p.v),t.Y36(l.D),t.Y36(h.IN))},u.\u0275cmp=t.Xpm({type:u,selectors:[["app-imgcropper"]],viewQuery:function(n,s){if(1&n&&t.Gf(e,5),2&n){let d;t.iGM(d=t.CRH())&&(s.cropper=d.first)}},decls:16,vars:10,consts:[["slot","start"],["color","success",3,"click",4,"ngIf"],["slot","end"],["format","jpeg",3,"imageBase64","imageChangedEvent","maintainAspectRatio","aspectRatio","cropperMaxWidth","cropperMaxHeight","transform","autoCrop","imageCropped","loadImageFailed","imageLoaded"],["cropper",""],[2,"display","flex","justify-content","space-around"],[3,"click"],["color","success",3,"click"],["color","danger","slot","icon-only","name","close"],["color","success","slot","icon-only","name","checkmark"]],template:function(n,s){1&n&&(t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),t._uU(3,"Crop "),t.qZA(),t.TgZ(4,"ion-buttons",0),t.YNc(5,E,2,0,"ion-button",1),t.qZA(),t.TgZ(6,"ion-buttons",2),t.YNc(7,y,2,0,"ion-button",1),t.qZA()()(),t.TgZ(8,"ion-content")(9,"image-cropper",3,4),t.NdJ("imageCropped",function(M){return s.imageCropped(M)})("loadImageFailed",function(){return s.loadImageFailed()})("imageLoaded",function(){return s.imageLoaded()}),t.qZA(),t.TgZ(11,"div",5)(12,"ion-button",6),t.NdJ("click",function(){return s.zoomOut()}),t._uU(13,"Zoom -"),t.qZA(),t.TgZ(14,"ion-button",6),t.NdJ("click",function(){return s.zoomIn()}),t._uU(15,"Zoom +"),t.qZA()()()),2&n&&(t.xp6(5),t.Q6J("ngIf",s.dataservice.event_base64img),t.xp6(2),t.Q6J("ngIf",s.dataservice.event_base64img),t.xp6(2),t.Q6J("imageBase64",s.dataservice.event_base64img)("imageChangedEvent",s.imageChangedEvent)("maintainAspectRatio",!0)("aspectRatio",16/9)("cropperMaxWidth",3e3)("cropperMaxHeight",3e3)("transform",s.transform)("autoCrop",!1))},dependencies:[f.O5,P.ap,h.YG,h.Sm,h.W2,h.Gu,h.gu,h.wd,h.sr]}),u})()},6110:(Y,T,a)=>{a.r(T),a.d(T,{MultiEventPageModule:()=>J});var t=a(9808),p=a(2382),l=a(8058),h=a(2561),f=a(7582),P=a(1091),e=a(4893),E=a(2313),y=a(6501),O=a(2468),u=a(6524);function I(r,_){if(1&r){const o=e.EpF();e._UZ(0,"img",19),e.TgZ(1,"ion-icon",20),e.NdJ("click",function(){e.CHM(o);const c=e.MAs(3);return e.KtG(c.click())}),e.qZA(),e.TgZ(2,"input",21,22),e.NdJ("change",function(c){e.CHM(o);const m=e.oxw();return e.KtG(m.loadImageFromDevice(c,"event"))}),e.qZA()}2&r&&e.Q6J("src",_.$implicit,e.LSH)}function n(r,_){if(1&r){const o=e.EpF();e.ynx(0),e.TgZ(1,"ion-row")(2,"div",23),e.NdJ("click",function(){e.CHM(o);const c=e.MAs(5);return e.KtG(c.click())}),e._UZ(3,"ion-icon",24),e.qZA(),e.TgZ(4,"input",25,22),e.NdJ("change",function(c){e.CHM(o);const m=e.oxw();return e.KtG(m.loadImageFromDevice(c,"event"))}),e.qZA(),e.TgZ(6,"h5",26),e._uU(7,"Upload Event Image "),e.TgZ(8,"span",11),e._uU(9,"*"),e.qZA()()(),e.BQk()}}function s(r,_){1&r&&(e.ynx(0),e.TgZ(1,"div",27),e._uU(2," Please upload an image. "),e.qZA(),e.BQk())}function d(r,_){if(1&r&&(e.TgZ(0,"div",27),e._uU(1),e.qZA()),2&r){const o=e.oxw().$implicit;e.xp6(1),e.hij(" ",o.message," ")}}function M(r,_){if(1&r&&(e.ynx(0),e.YNc(1,d,2,1,"div",28),e.BQk()),2&r){const o=_.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.ionicForm.get("title").hasError(o.type)&&(i.ionicForm.get("title").dirty||i.ionicForm.get("title").touched))}}const g=[{path:"",component:(()=>{class r{constructor(o,i,c,m,b,v,x,U,A,F,D,C,k){this.formBuilder=i,this.common=c,this.dataservice=m,this.navCtrl=b,this.chatconnect=v,this.modalController=x,this.createv4omdal=U,this.successmodal=A,this.contactpagemodal=F,this.router=D,this.route=C,this.alertController=k,this.isSubmitted=!1,this.file_uploaddata="",this.showMoreBar=!1,this.Blobimage=[],this.showSubmitButton=!1,this.error_messages={title:[{type:"required",message:"Title is required."}],description:[{type:"required",message:"Description is required."}]},this.sanitizer=o,this.imageUrls=[],this.route.queryParams.subscribe(N=>{this.accountType=+N.value});const w=new Date;w.setDate(w.getDate()),this.currentDate=w.toISOString().split("T")[0]}ngOnInit(){return(0,f.mG)(this,void 0,void 0,function*(){this.ionicForm=this.formBuilder.group({title:["",[p.kI.required]],description:[""],start_date:["",p.kI.required],start_time:["",p.kI.required],end_date:["",p.kI.required],end_time:["",p.kI.required],age_group_from:["",[p.kI.required,p.kI.min(1),p.kI.max(100)]],age_group_to:["",[p.kI.required,p.kI.min(1),p.kI.max(100)]]},{validator:this.dateAndTimeValidator}),yield this.GetDashboard()})}dateAndTimeValidator(o){const i=new Date(o.get("start_date").value),c=new Date(o.get("end_date").value);return i<new Date?{dateInvalid:"Start date cannot be in the past"}:c<i?{endDateInvalid:"End date cannot be before start date"}:null}GetDashboard(){return new Promise((o,i)=>{let c={user_token:this.dataservice.getUserData()};this.chatconnect.postData(c,"user_dashboard").then(m=>{1==m.Response.status?(this.dataservice.events_categories=m.Response.all_categories,o(!0)):this.common.presentToast("Oops",m.Response.message)},m=>{console.log("Connection failed Messge"),i(m)})})}submit(){var o,i,c,m,b,v,x,U,A,F,D;return(0,f.mG)(this,void 0,void 0,function*(){if(this.isSubmitted=!0,this.ionicForm.markAllAsTouched(),this.ionicForm.valid){var C=new FormData;C.append("user_token",null!==(i=null===(o=this.dataservice.getUserData())||void 0===o?void 0:o.toString())&&void 0!==i?i:"");const k=null!==(c=localStorage.getItem("event_images"))&&void 0!==c?c:"";this.dataservice.isNullOrUndefined(k)?C.append("event_images",""):C.append("event_images",this.dataservice.convertBase64ToBlob(k));const w=null!==(b=null===(m=this.ionicForm.get("title"))||void 0===m?void 0:m.value)&&void 0!==b?b:"";C.append("title",w);const N=null!==(x=null===(v=this.ionicForm.get("description"))||void 0===v?void 0:v.value)&&void 0!==x?x:"";C.append("description",N);const z=null!==(A=null===(U=this.ionicForm.get("start_date"))||void 0===U?void 0:U.value)&&void 0!==A?A:"";C.append("start_date",z);const R=null!==(D=null===(F=this.ionicForm.get("end_date"))||void 0===F?void 0:F.value)&&void 0!==D?D:"";C.append("end_date",R),this.chatconnect.postFormData(C,"multiple_event").then(S=>{this.common.hide(),1==S.Response.status?(this.ionicForm.reset(),localStorage.removeItem("event_images"),this.imageUrls=[],this.router.navigate(["pages/successmul",{multievent_id:S.Response.last_id}])):this.common.presentToast("Oops",S.Response.message)},S=>{this.common.hide(),console.log("Connection failed Messge")})}else(yield this.alertController.create({header:"",subHeader:"Please Enter Details",buttons:["Dismiss"]})).present()})}view(o,i){return(0,f.mG)(this,void 0,void 0,function*(){const c=yield this.modalController.create({component:P.b,cssClass:"my-menubar"});return c.onDidDismiss().then(m=>{null!=m.data?m.data.cropped_image&&(this.dataservice.convertBase64ToBlob(m.data.cropped_image),"event"==i&&(this.imageUrls=[],this.imageUrls.unshift(m.data.cropped_image),localStorage.setItem("event_images",m.data.cropped_image))):this.imageUrls=[]}),yield c.present()})}loadImageFromDevice(o,i){const c=o.target.files[0];this.file_uploaddata=c,(new FormData).append("photo",c,c.name),this.Blobimage.push(c),this.dataservice.blobToBase64(c).then(v=>{this.dataservice.event_base64img=v,this.view(v,i)});const b=new FileReader;b.readAsArrayBuffer(c),b.onload=()=>{let v=new Blob([new Uint8Array(b.result)]),x=URL.createObjectURL(v);"event"==i&&this.imageUrls.unshift(this.sanitizer.bypassSecurityTrustUrl(x))},b.onerror=v=>{}}}return r.\u0275fac=function(o){return new(o||r)(e.Y36(E.H7),e.Y36(p.qu),e.Y36(y.v),e.Y36(O.D),e.Y36(l.SH),e.Y36(u.O),e.Y36(l.IN),e.Y36(l.IN),e.Y36(l.IN),e.Y36(l.IN),e.Y36(h.F0),e.Y36(h.gz),e.Y36(l.Br))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-multi-event"]],decls:38,vars:7,consts:[["slot","start"],["text","","icon","arrow-back-outline"],["slot","end","name","close","routerLink","/tabs/dashboard"],[1,"ion-padding"],[3,"formGroup","ngSubmit"],[2,"margin-top","10px"],[1,"container"],[1,"images"],["ngFor","",3,"ngForOf"],[4,"ngIf"],[1,"form-input"],[1,"asct"],["formControlName","title","placeholder","Enter Title","appCapitalizeFirst",""],[4,"ngFor","ngForOf"],["formControlName","description","placeholder","Write Description","autoGrow","true","appCapitalizeFirst",""],["type","date","formControlName","start_date",3,"min"],["type","date","formControlName","end_date",3,"min"],[1,"ion-no-border"],["expand","block","type","submit","shape","round","color","secondary"],[1,"image",2,"border-radius","10px",3,"src"],["name","add-circle","slot","end",2,"font-size","45px","color","seagreen","position","absolute","right","0",3,"click"],["type","file","id","file-input","accept","image/png, image/jpg, image/jpeg",2,"display","none",3,"change"],["fileInput",""],[1,"down_icon",3,"click"],["name","download-outline"],["type","file","id","file-input","accept","image/png, image/jpeg",1,"custom-file-input",2,"display","none",3,"change"],["align","center"],[1,"error-message"],["class","error-message",4,"ngIf"]],template:function(o,i){1&o&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),e._UZ(3,"ion-back-button",1),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5,"Create Multi Event"),e.qZA(),e._UZ(6,"ion-icon",2),e.qZA()(),e.TgZ(7,"ion-content",3)(8,"form",4),e.NdJ("ngSubmit",function(){return i.submit()}),e.TgZ(9,"ion-list")(10,"div",5)(11,"div",6)(12,"p",7),e.YNc(13,I,4,1,"ng-template",8),e.qZA(),e.YNc(14,n,10,0,"ng-container",9),e.YNc(15,s,3,0,"ng-container",9),e.TgZ(16,"div",10)(17,"h4"),e._uU(18,"Title "),e.TgZ(19,"span",11),e._uU(20,"*"),e.qZA()(),e._UZ(21,"ion-input",12),e.qZA(),e.YNc(22,M,2,1,"ng-container",13),e.TgZ(23,"div",10)(24,"h4"),e._uU(25,"Description"),e.qZA(),e._UZ(26,"ion-textarea",14),e.qZA(),e.TgZ(27,"div",10)(28,"h4"),e._uU(29,"Start Date"),e.qZA(),e._UZ(30,"ion-input",15),e.qZA(),e.TgZ(31,"div",10)(32,"h4"),e._uU(33,"End Date"),e.qZA(),e._UZ(34,"ion-input",16),e.qZA()()()(),e.TgZ(35,"ion-footer",17)(36,"ion-button",18),e._uU(37,"Submit"),e.qZA()()()()),2&o&&(e.xp6(8),e.Q6J("formGroup",i.ionicForm),e.xp6(5),e.Q6J("ngForOf",i.imageUrls),e.xp6(1),e.Q6J("ngIf",!i.imageUrls.length),e.xp6(1),e.Q6J("ngIf",!i.imageUrls.length&&i.isSubmitted),e.xp6(7),e.Q6J("ngForOf",i.error_messages.title),e.xp6(8),e.s9C("min",i.currentDate),e.xp6(4),e.s9C("min",i.currentDate))},dependencies:[t.sg,t.O5,p._Y,p.JJ,p.JL,p.sg,p.u,l.oU,l.YG,l.Sm,l.W2,l.fr,l.Gu,l.gu,l.pK,l.q_,l.Nd,l.g2,l.wd,l.sr,l.j9,l.cs,l.YI,h.rH],styles:[".error-message[_ngcontent-%COMP%]{color:red;text-align:center;padding-bottom:10px}ion-toolbar[_ngcontent-%COMP%]{--border-style: none}ion-toolbar[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{text-align:center}ion-toolbar[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.3rem;padding:10px}.asct[_ngcontent-%COMP%]{font-size:16px;color:red}.custom-file-input[_ngcontent-%COMP%]{text-indent:-9999px;z-index:1;height:99%;max-width:99%;margin:auto;border:none;background:url(/assets/images/download.png);background-size:35px 35px;background-repeat:no-repeat;background-position:center}.container[_ngcontent-%COMP%]{margin:0 auto 50px;max-width:800px}ion-row[_ngcontent-%COMP%]{height:25vh;border-radius:10px;margin-bottom:10px;background:rgb(241,241,241);border:1px solid #285500}ion-row[_ngcontent-%COMP%]   .down_icon[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;font-size:33px}ion-row[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{position:absolute;font-size:14px;left:0;z-index:1;right:0;top:43px;color:#000}.form-input[_ngcontent-%COMP%]{margin-bottom:5px}h4[_ngcontent-%COMP%]{font-size:14px;font-weight:700}ion-label[_ngcontent-%COMP%]{font-size:16px;font-weight:bolder!important}ion-input[_ngcontent-%COMP%]{margin-top:10px;font-size:14px;border-radius:5px;height:40px;padding:5px!important;background:rgb(241,241,241);border:1px solid #285500}ion-textarea[_ngcontent-%COMP%]{margin-top:10px;font-size:14px;border-radius:5px;padding:5px!important;background:rgb(241,241,241);border:1px solid #285500}ion-select[_ngcontent-%COMP%]{margin-top:10px;font-size:14px;border-radius:5px;padding-left:14px!important;height:40px;background:rgb(241,241,241);border:1px solid #285500}ion-footer[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin:auto;max-width:200px}"]}),r})()}];let B=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[h.Bz.forChild(g),h.Bz]}),r})(),J=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[t.ez,p.u5,p.UX,l.Pc,B]}),r})()},6524:(Y,T,a)=>{a.d(T,{O:()=>O});var t=a(7582),p=a(520);const h=(0,a(7423).fo)("Network",{web:()=>a.e(4203).then(a.bind(a,4203)).then(u=>new u.NetworkWeb)});var f=a(4893),P=a(2468),e=a(6501);let E="https://api.soeasyapp.com/",O=(()=>{class u{constructor(n,s,d){this.http=n,this.dataservice=s,this.common=d,this.checkInternetConnection()}initiatePayment(n,s){const d={headers:(new p.WM).set("Content-Type","application/json").set("Authorization","PAY46ZGYME1AE6LUR1AVI1701862757.YFGJ11SECKEY")};return new Promise((M,Z)=>{this.http.post("https://admin.payomatix.com/payment/merchant/"+s,JSON.stringify(n),d).subscribe(g=>{M(g)},g=>{Z(g),"HttpErrorResponse"==g.name&&("Unknown Error"==g.statusText?this.checkInternetConnection():this.common.presentToast("","OK"==g.statusText?"Something Went Wrong...":g.statusText)),console.log("In Chatconnect provider : Error",g)})})}postData(n,s){const d={headers:(new p.WM).set("Content-Type","application/json")};return new Promise((M,Z)=>{this.http.post(E+s,JSON.stringify(n),d).subscribe(g=>{M(g)},g=>{Z(g),"HttpErrorResponse"==g.name&&("Unknown Error"==g.statusText?this.checkInternetConnection():this.common.presentToast("","OK"==g.statusText?"Something Went Wrong...":g.statusText)),console.log("In Chatconnect provider : Error",g)})})}checkInternetConnection(){return(0,t.mG)(this,void 0,void 0,function*(){(yield h.getStatus()).connected?console.log("Internet is connected"):(console.log("No internet connection"),this.common.presentToast("","Check your internet connection"))})}postFormData(n,s){return new Promise((d,M)=>{const Z=(new p.WM).set("Accept","application/json");this.http.post(E+s,n,{headers:Z}).subscribe(g=>{d(g)},g=>{M(g)})})}}return u.\u0275fac=function(n){return new(n||u)(f.LFG(p.eN),f.LFG(P.D),f.LFG(e.v))},u.\u0275prov=f.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()}}]);