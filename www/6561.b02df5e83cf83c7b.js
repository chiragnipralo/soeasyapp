"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6561],{6561:(M,y,i)=>{i.r(y),i.d(y,{AllmemberPageModule:()=>f});var v=i(9808),h=i(2382),a=i(8058),b=i(2561),u=i(7582),e=i(4893),A=i(6501),C=i(2468),T=i(6524);function x(t,m){if(1&t){const n=e.EpF();e.ynx(0),e.TgZ(1,"ion-icon",14),e.NdJ("click",function(){e.CHM(n);const o=e.oxw(2).$implicit,r=e.oxw();return e.KtG(r.remove_admin(o.user_id))}),e.qZA(),e.BQk()}}function d(t,m){if(1&t){const n=e.EpF();e.ynx(0),e.TgZ(1,"ion-icon",15),e.NdJ("click",function(){e.CHM(n);const o=e.oxw(2).$implicit,r=e.oxw();return e.KtG(r.make_admin(o.user_id))}),e.qZA(),e.BQk()}}function P(t,m){if(1&t){const n=e.EpF();e.ynx(0),e.TgZ(1,"ion-item"),e._UZ(2,"ion-icon",11),e.TgZ(3,"ion-label",12),e.NdJ("click",function(){e.CHM(n);const o=e.oxw().$implicit,r=e.oxw();return e.KtG(r.memberdetails(o.user_id))}),e._uU(4),e.qZA(),e.YNc(5,x,2,0,"ng-container",10),e.YNc(6,d,2,0,"ng-container",10),e.TgZ(7,"ion-icon",13),e.NdJ("click",function(){e.CHM(n);const o=e.oxw().$implicit,r=e.oxw();return e.KtG(r.deletemember(o.user_id))}),e.qZA()(),e.BQk()}if(2&t){const n=e.oxw().$implicit;e.xp6(2),e.Q6J("name",1===n.is_admin?"checkmark-circle":""),e.xp6(2),e.Oqu(n.full_name),e.xp6(1),e.Q6J("ngIf",1==n.is_admin),e.xp6(1),e.Q6J("ngIf",0==n.is_admin)}}function l(t,m){if(1&t&&(e.ynx(0),e.YNc(1,P,8,4,"ng-container",10),e.BQk()),2&t){const n=m.$implicit,s=e.oxw();e.xp6(1),e.Q6J("ngIf",0==n.request&&n.user_id!=s.communityData[0].user_id)}}const g=[{path:"",component:(()=>{class t{constructor(n,s,o,r,c,k){this.commonservice=n,this._router=s,this.modalController=o,this.dataservice=r,this.chatconnect=c,this.alertController=k,this.showSearchBar=!1,this.searchQuery="",this.filterData=[]}toggleSearchBar(){this.showSearchBar=!this.showSearchBar,this.showSearchBar||(this.searchQuery="")}filterItems(n){console.log(n.detail.value),this.dataservice.isNullOrUndefined(n.detail.value)||(this.filterData=this.member.filter(s=>s.full_name.toLowerCase().indexOf(n.detail.value.toLowerCase())>-1))}doRefresh(n){this.ngOnInit(),setTimeout(()=>{n.target.complete()},2e3)}ngOnInit(){this.GetUserEvents()}GetUserEvents(){const n=this.dataservice.GetAccountuser();let s={user_token:this.dataservice.getUserData(),community_id:n};this.chatconnect.postData(s,"paid_community_details_by_id").then(o=>{console.log(o),1==o.Response.status?(this.communityData=o.Response.Details,this.member=this.communityData[0].member,this.filterData=this.member):this.commonservice.presentToast("Oops",o.Response.message)},o=>{console.log("Connection failed Messge")})}memberdetails(n){console.log("This is member ID ==>",n),this._router.navigate(["/member-details",{user_id:n}])}make_admin(n){return(0,u.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:"Confirm",message:"Are you sure want to make admin?",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary"},{text:"Yes",handler:()=>{console.log("Member Id ==>",n),this.commonservice.show("Please Wait");const o=this.dataservice.GetAccountuser();let r={user_token:this.dataservice.getUserData(),community_id:o,member_id:n,command:"admin",premium:1,command_Type:"member"};this.chatconnect.postData(r,"verify_member").then(c=>{this.commonservice.hide(),console.log(c),1==c.Response.status?(this.commonservice.presentToast("",c.Response.message),this.GetUserEvents()):this.commonservice.presentToast("Oops",c.Response.message)},c=>{console.log("Connection failed Messge")})}}]})).present()})}remove_admin(n){return(0,u.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:"Confirm",message:"Are you sure want to remove?",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary"},{text:"Yes",handler:()=>{console.log("Member Id ==>",n),this.commonservice.show("Please Wait");const o=this.dataservice.GetAccountuser();let r={user_token:this.dataservice.getUserData(),community_id:o,member_id:n,command:"admin_remove",premium:1,command_Type:"member"};this.chatconnect.postData(r,"verify_member").then(c=>{this.commonservice.hide(),console.log(c),1==c.Response.status?(this.commonservice.presentToast("",c.Response.message),this.GetUserEvents()):this.commonservice.presentToast("Oops",c.Response.message)},c=>{console.log("Connection failed Messge")})}}]})).present()})}deletemember(n){return(0,u.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:"Confirm",message:"Are you sure want to remove?",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary"},{text:"Yes",handler:()=>{console.log("Member Id ==>",n),this.commonservice.show("Please Wait");const o=this.dataservice.GetAccountuser();let r={user_token:this.dataservice.getUserData(),community_id:o,member_id:n,command:"delete",premium:1,command_Type:"member"};this.chatconnect.postData(r,"verify_member").then(c=>{this.commonservice.hide(),console.log(c),1==c.Response.status?(this.commonservice.presentToast("",c.Response.message),this.GetUserEvents()):this.commonservice.presentToast("Oops",c.Response.message)},c=>{console.log("Connection failed Messge")})}}]})).present()})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(A.v),e.Y36(b.F0),e.Y36(a.IN),e.Y36(C.D),e.Y36(T.O),e.Y36(a.Br))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-allmember"]],decls:16,vars:3,consts:[[1,"top"],["slot","start"],["text","","icon","arrow-back-outline"],["name","search-outline",1,"search_icon",3,"click"],[1,"ion-padding-start","ion-padding-end"],["slot","fixed",3,"ionRefresh"],["pullingIcon","arrow-down","pullingText","Pull to refresh","refreshingSpinner","circles"],["placeholder","Search Events",3,"ngModel","hidden","ngModelChange","ionCancel","ionChange"],[1,"container"],[4,"ngFor","ngForOf"],[4,"ngIf"],["slot","start",2,"color","rgb(18, 4, 92)",3,"name"],[2,"text-transform","capitalize",3,"click"],["name","trash-outline","slot","end",2,"color","red",3,"click"],["name","remove-circle","slot","end",3,"click"],["name","add-circle-outline","slot","end",3,"click"]],template:function(n,s){1&n&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"div",0)(3,"ion-buttons",1),e._UZ(4,"ion-back-button",2),e.qZA(),e.TgZ(5,"ion-title"),e._uU(6,"Members"),e.qZA(),e.TgZ(7,"ion-icon",3),e.NdJ("click",function(){return s.toggleSearchBar()}),e.qZA()()()(),e.TgZ(8,"ion-content",4)(9,"ion-refresher",5),e.NdJ("ionRefresh",function(r){return s.doRefresh(r)}),e._UZ(10,"ion-refresher-content",6),e.qZA(),e.TgZ(11,"ion-searchbar",7),e.NdJ("ngModelChange",function(r){return s.searchQuery=r})("ionCancel",function(){return s.toggleSearchBar()})("ionChange",function(r){return s.filterItems(r)}),e.qZA(),e.TgZ(12,"div",8)(13,"h2"),e._uU(14,"All Members"),e.qZA(),e.YNc(15,l,2,1,"ng-container",9),e.qZA()()),2&n&&(e.xp6(11),e.Q6J("ngModel",s.searchQuery)("hidden",!s.showSearchBar),e.xp6(4),e.Q6J("ngForOf",s.filterData))},dependencies:[v.sg,v.O5,h.JJ,h.On,a.oU,a.Sm,a.W2,a.Gu,a.gu,a.Ie,a.Q$,a.nJ,a.Wo,a.VI,a.wd,a.sr,a.j9,a.cs],styles:[".top[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.top[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{text-align:center}.top[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{padding-right:10px}ion-item[_ngcontent-%COMP%]{--background: transparent;--border-style: solid !important}ion-searchbar[_ngcontent-%COMP%]{position:sticky;top:0;z-index:2}"]}),t})()}];let _=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[b.Bz.forChild(g),b.Bz]}),t})(),f=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[v.ez,h.u5,h.UX,a.Pc,_]}),t})()},6524:(M,y,i)=>{i.d(y,{O:()=>x});var v=i(7582),h=i(520);const b=(0,i(7423).fo)("Network",{web:()=>i.e(4203).then(i.bind(i,4203)).then(d=>new d.NetworkWeb)});var u=i(4893),e=i(2468),A=i(6501);let C="https://api.soeasyapp.com/",x=(()=>{class d{constructor(l,p,g){this.http=l,this.dataservice=p,this.common=g,this.checkInternetConnection()}initiatePayment(l,p){const g={headers:(new h.WM).set("Content-Type","application/json").set("Authorization","PAY46ZGYME1AE6LUR1AVI1701862757.YFGJ11SECKEY")};return new Promise((_,f)=>{this.http.post("https://admin.payomatix.com/payment/merchant/"+p,JSON.stringify(l),g).subscribe(t=>{_(t)},t=>{f(t),"HttpErrorResponse"==t.name&&("Unknown Error"==t.statusText?this.checkInternetConnection():this.common.presentToast("","OK"==t.statusText?"Something Went Wrong...":t.statusText)),console.log("In Chatconnect provider : Error",t)})})}postData(l,p){const g={headers:(new h.WM).set("Content-Type","application/json")};return new Promise((_,f)=>{this.http.post(C+p,JSON.stringify(l),g).subscribe(t=>{_(t)},t=>{f(t),"HttpErrorResponse"==t.name&&("Unknown Error"==t.statusText?this.checkInternetConnection():this.common.presentToast("","OK"==t.statusText?"Something Went Wrong...":t.statusText)),console.log("In Chatconnect provider : Error",t)})})}checkInternetConnection(){return(0,v.mG)(this,void 0,void 0,function*(){(yield b.getStatus()).connected?console.log("Internet is connected"):(console.log("No internet connection"),this.common.presentToast("","Check your internet connection"))})}postFormData(l,p){return new Promise((g,_)=>{const f=(new h.WM).set("Accept","application/json");this.http.post(C+p,l,{headers:f}).subscribe(t=>{g(t)},t=>{_(t)})})}}return d.\u0275fac=function(l){return new(l||d)(u.LFG(h.eN),u.LFG(e.D),u.LFG(A.v))},d.\u0275prov=u.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()}}]);