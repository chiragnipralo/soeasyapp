"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[706],{706:(Z,A,a)=>{a.r(A),a.d(A,{AddSamitiPageModule:()=>F});var t=a(9808),g=a(2382),d=a(8058),_=a(2561),v=a(7582),y=a(1091),e=a(4893),P=a(2313),O=a(2468),M=a(6524),l=a(6501);function b(o,h){if(1&o){const i=e.EpF();e._UZ(0,"img",16),e.TgZ(1,"ion-icon",17),e.NdJ("click",function(){e.CHM(i);const s=e.MAs(3);return e.KtG(s.click())}),e.qZA(),e.TgZ(2,"input",18,19),e.NdJ("change",function(s){e.CHM(i);const u=e.oxw();return e.KtG(u.loadImageFromDevice(s,"event"))}),e.qZA()}2&o&&e.Q6J("src",h.$implicit,e.LSH)}function n(o,h){if(1&o){const i=e.EpF();e.ynx(0),e.TgZ(1,"ion-row")(2,"ion-input",20),e.NdJ("change",function(s){e.CHM(i);const u=e.oxw();return e.KtG(u.loadImageFromDevice(s,"event"))}),e.qZA(),e.TgZ(3,"h5",21),e._uU(4,"Upload Image "),e.TgZ(5,"span",10),e._uU(6,"*"),e.qZA()()(),e.BQk()}}function c(o,h){if(1&o&&(e.TgZ(0,"div",23),e._uU(1),e.qZA()),2&o){const i=e.oxw().$implicit;e.xp6(1),e.hij(" ",i.message," ")}}function m(o,h){if(1&o&&(e.ynx(0),e.YNc(1,c,2,1,"div",22),e.BQk()),2&o){const i=h.$implicit,r=e.oxw();e.xp6(1),e.Q6J("ngIf",r.ionicForm.get("samiti_name").hasError(i.type)&&(r.ionicForm.get("samiti_name").dirty||r.ionicForm.get("samiti_name").touched))}}function C(o,h){if(1&o&&(e.TgZ(0,"div",23),e._uU(1),e.qZA()),2&o){const i=e.oxw().$implicit;e.xp6(1),e.hij(" ",i.message," ")}}function I(o,h){if(1&o&&(e.ynx(0),e.YNc(1,C,2,1,"div",22),e.BQk()),2&o){const i=h.$implicit,r=e.oxw();e.xp6(1),e.Q6J("ngIf",r.ionicForm.get("description").hasError(i.type)&&(r.ionicForm.get("description").dirty||r.ionicForm.get("description").touched))}}const S=[{path:"",component:(()=>{class o{constructor(i,r,s,u,T,f,x,E,N){this._router=r,this.modalController=s,this.dataservice=u,this.chatconnect=T,this.common=f,this.formBuilder=x,this.location=E,this.alertController=N,this.isSubmitted=!1,this.file_uploaddata="",this.Blobimage=[],this.error_messages={samiti_name:[{type:"required",message:"Name is required."}],description:[{type:"required",message:"Description is required."}]},this.imageUrls=[],this.sanitizer=i}submit(){var i,r;return(0,v.mG)(this,void 0,void 0,function*(){if(this.isSubmitted=!0,this.ionicForm.markAllAsTouched(),this.ionicForm.valid){const u=this.dataservice.getUserData(),T=this.dataservice.GetAccountuser();var s=new FormData;null!==u&&s.append("user_token",u),s.append("community_type","1"),s.append("community_id",T);const f=localStorage.getItem("samiti_image");null!==f&&!this.dataservice.isNullOrUndefined(f)&&s.append("samiti_image",this.dataservice.convertBase64ToBlob(f)),s.append("samiti_name",null===(i=this.ionicForm.get("samiti_name"))||void 0===i?void 0:i.value),s.append("samiti_desc",null===(r=this.ionicForm.get("description"))||void 0===r?void 0:r.value),console.log("formData:",s),this.chatconnect.postFormData(s,"add_samiti").then(x=>{this.common.hide(),1==x.Response.status?(this.common.presentToast("",x.Response.message),this._router.navigate(["/add-samiti-member",{samiti_id:x.Response.samiti_id}])):this.common.presentToast("Oops",x.Response.message)},x=>{this.common.hide(),console.log("Connection failed Messge")})}else(yield this.alertController.create({subHeader:"Please Required details",buttons:["Dismiss"]})).present()})}view(i,r){return(0,v.mG)(this,void 0,void 0,function*(){const s=yield this.modalController.create({component:y.b,cssClass:"my-menubar"});return s.onDidDismiss().then(u=>{null!=u.data&&u.data.cropped_image&&(this.dataservice.convertBase64ToBlob(u.data.cropped_image),"event"==r&&(this.imageUrls=[],this.imageUrls.unshift(u.data.cropped_image),localStorage.setItem("samiti_image",u.data.cropped_image)))}),yield s.present()})}loadImageFromDevice(i,r){console.log(i);const s=i.target.files[0];console.log(s),this.file_uploaddata=s,console.log(s),(new FormData).append("photo",s,s.name),this.Blobimage.push(s),this.dataservice.blobToBase64(s).then(f=>{this.dataservice.event_base64img=f,this.view(f,r)});const T=new FileReader;T.readAsArrayBuffer(s),T.onload=()=>{let f=new Blob([new Uint8Array(T.result)]),x=URL.createObjectURL(f);"event"==r&&this.imageUrls.unshift(this.sanitizer.bypassSecurityTrustUrl(x))},console.log(this.Blobimage),T.onerror=f=>{}}ngOnInit(){return(0,v.mG)(this,void 0,void 0,function*(){this.ionicForm=this.formBuilder.group({samiti_name:["",[g.kI.required]],description:["",[g.kI.required]]})})}}return o.\u0275fac=function(i){return new(i||o)(e.Y36(P.H7),e.Y36(_.F0),e.Y36(d.IN),e.Y36(O.D),e.Y36(M.O),e.Y36(l.v),e.Y36(g.qu),e.Y36(t.Ye),e.Y36(d.Br))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-add-samiti"]],decls:31,vars:5,consts:[["slot","start"],["text","","icon","arrow-back-outline"],[1,"ion-padding"],[3,"formGroup","ngSubmit"],[2,"margin-top","10px"],[1,"container"],[1,"images"],["ngFor","",3,"ngForOf"],[4,"ngIf"],[1,"form-input"],[1,"required_sign"],["formControlName","samiti_name","placeholder","Enter Title"],[4,"ngFor","ngForOf"],["formControlName","description","placeholder","Write Description"],[1,"btn"],["expand","block","type","submit","color","secondary","shape","round"],[1,"image",3,"src"],["name","add-circle","slot","end",2,"font-size","45px","color","seagreen","position","absolute","right","0",3,"click"],["type","file","id","file-input","accept","image/png, image/jpg, image/jpeg",2,"display","none",3,"change"],["fileInput",""],["type","file","id","file-input","accept","image/png, image/jpeg",1,"custom-file-input",3,"change"],["align","center"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(i,r){1&i&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),e._UZ(3,"ion-back-button",1),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5,"Add committee"),e.qZA()()(),e.TgZ(6,"ion-content",2)(7,"form",3),e.NdJ("ngSubmit",function(){return r.submit()}),e.TgZ(8,"ion-list")(9,"div",4)(10,"div",5)(11,"p",6),e.YNc(12,b,4,1,"ng-template",7),e.qZA(),e.YNc(13,n,7,0,"ng-container",8),e.TgZ(14,"div",9)(15,"h4"),e._uU(16,"Title "),e.TgZ(17,"span",10),e._uU(18,"*"),e.qZA()(),e._UZ(19,"ion-input",11),e.qZA(),e.YNc(20,m,2,1,"ng-container",12),e.TgZ(21,"div",9)(22,"h4"),e._uU(23,"Description "),e.TgZ(24,"span",10),e._uU(25,"*"),e.qZA()(),e._UZ(26,"ion-textarea",13),e.qZA(),e.YNc(27,I,2,1,"ng-container",12),e.qZA()()(),e.TgZ(28,"div",14)(29,"ion-button",15),e._uU(30,"Save & continue"),e.qZA()()()()),2&i&&(e.xp6(7),e.Q6J("formGroup",r.ionicForm),e.xp6(5),e.Q6J("ngForOf",r.imageUrls),e.xp6(1),e.Q6J("ngIf",!r.imageUrls||0===r.imageUrls.length),e.xp6(7),e.Q6J("ngForOf",r.error_messages.samiti_name),e.xp6(7),e.Q6J("ngForOf",r.error_messages.description))},dependencies:[t.sg,t.O5,g._Y,g.JJ,g.JL,g.sg,g.u,d.oU,d.YG,d.Sm,d.W2,d.Gu,d.gu,d.pK,d.q_,d.Nd,d.g2,d.wd,d.sr,d.j9,d.cs],styles:[".error-message[_ngcontent-%COMP%]{color:red;text-align:center;padding-bottom:10px}.required_sign[_ngcontent-%COMP%]{color:red}ion-toolbar[_ngcontent-%COMP%]{--border-style: none}ion-toolbar[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{text-align:center;position:absolute;inset:0}ion-toolbar[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.3rem;padding:10px}.custom-file-input[_ngcontent-%COMP%]{text-indent:-9999px;z-index:1;height:99%;max-width:99%;margin:auto;border:none;background:url(/assets/images/download.png);background-size:35px 35px;background-repeat:no-repeat;background-position:center}.container[_ngcontent-%COMP%]{margin:0 auto 50px;max-width:800px}ion-row[_ngcontent-%COMP%]{height:25vh;border-radius:10px;margin-bottom:10px;background:rgb(241,241,241);border:1px solid #285500}ion-row[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{position:absolute;font-size:14px;left:0;z-index:1;right:0;top:43px;color:#000}.form-input[_ngcontent-%COMP%]{margin-bottom:5px}h4[_ngcontent-%COMP%]{font-size:14px;font-weight:700}ion-label[_ngcontent-%COMP%]{font-size:16px;font-weight:bolder!important}ion-input[_ngcontent-%COMP%]{margin-top:10px;font-size:14px;border-radius:5px;height:40px;padding:5px!important;background:rgb(241,241,241);border:1px solid #285500}ion-textarea[_ngcontent-%COMP%]{margin-top:10px;font-size:14px;border-radius:5px;padding:5px!important;background:rgb(241,241,241);border:1px solid #285500}.btn[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin:auto;max-width:200px}"]}),o})()}];let U=(()=>{class o{}return o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[_.Bz.forChild(S),_.Bz]}),o})(),F=(()=>{class o{}return o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[t.ez,g.u5,g.UX,d.Pc,U]}),o})()},1091:(Z,A,a)=>{a.d(A,{b:()=>M});var t=a(4893),g=a(6501),d=a(2468),_=a(8058),v=a(9808),y=a(3877);const e=["cropper"];function P(l,b){if(1&l){const n=t.EpF();t.TgZ(0,"ion-button",7),t.NdJ("click",function(){t.CHM(n);const m=t.oxw();return t.KtG(m.close())}),t._UZ(1,"ion-icon",8),t.qZA()}}function O(l,b){if(1&l){const n=t.EpF();t.TgZ(0,"ion-button",7),t.NdJ("click",function(){t.CHM(n);const m=t.oxw();return t.KtG(m.cropImage())}),t._UZ(1,"ion-icon",9),t.qZA()}}let M=(()=>{class l{constructor(n,c,m){this.commonservice=n,this.dataservice=c,this.modalController=m,this.myImage=null,this.imageChangedEvent="",this.croppedImage="",this.scale=1,this.transform={}}ngOnInit(){}imageLoaded(){}imageCropped(n){this.croppedImage=n.base64}loadImageFailed(){console.log("Image load failed!")}fileChangeEvent(n){this.imageChangedEvent=n}cropImage(){this.cropper&&this.cropper.crop()&&this.cropper.crop().base64&&(this.croppedImage=this.cropper.crop().base64),this.myImage=null,this.modalController.dismiss({dismissed:!0,cropped_image:this.croppedImage})}close(){this.myImage=null,this.croppedImage=null,this.modalController.dismiss()}discardChanges(){this.myImage=null,this.croppedImage=null}rotate(){var n;const c=((null!==(n=this.transform.rotate)&&void 0!==n?n:0)+90)%360;this.transform=Object.assign(Object.assign({},this.transform),{rotate:c})}zoomOut(){this.scale=Math.max(.1,this.scale-.1),this.transform=Object.assign(Object.assign({},this.transform),{scale:this.scale})}zoomIn(){this.scale=Math.min(3,this.scale+.1),this.transform=Object.assign(Object.assign({},this.transform),{scale:this.scale})}}return l.\u0275fac=function(n){return new(n||l)(t.Y36(g.v),t.Y36(d.D),t.Y36(_.IN))},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-imgcropper"]],viewQuery:function(n,c){if(1&n&&t.Gf(e,5),2&n){let m;t.iGM(m=t.CRH())&&(c.cropper=m.first)}},decls:16,vars:10,consts:[["slot","start"],["color","success",3,"click",4,"ngIf"],["slot","end"],["format","jpeg",3,"imageBase64","imageChangedEvent","maintainAspectRatio","aspectRatio","cropperMaxWidth","cropperMaxHeight","transform","autoCrop","imageCropped","loadImageFailed","imageLoaded"],["cropper",""],[2,"display","flex","justify-content","space-around"],[3,"click"],["color","success",3,"click"],["color","danger","slot","icon-only","name","close"],["color","success","slot","icon-only","name","checkmark"]],template:function(n,c){1&n&&(t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),t._uU(3,"Crop "),t.qZA(),t.TgZ(4,"ion-buttons",0),t.YNc(5,P,2,0,"ion-button",1),t.qZA(),t.TgZ(6,"ion-buttons",2),t.YNc(7,O,2,0,"ion-button",1),t.qZA()()(),t.TgZ(8,"ion-content")(9,"image-cropper",3,4),t.NdJ("imageCropped",function(C){return c.imageCropped(C)})("loadImageFailed",function(){return c.loadImageFailed()})("imageLoaded",function(){return c.imageLoaded()}),t.qZA(),t.TgZ(11,"div",5)(12,"ion-button",6),t.NdJ("click",function(){return c.zoomOut()}),t._uU(13,"Zoom -"),t.qZA(),t.TgZ(14,"ion-button",6),t.NdJ("click",function(){return c.zoomIn()}),t._uU(15,"Zoom +"),t.qZA()()()),2&n&&(t.xp6(5),t.Q6J("ngIf",c.dataservice.event_base64img),t.xp6(2),t.Q6J("ngIf",c.dataservice.event_base64img),t.xp6(2),t.Q6J("imageBase64",c.dataservice.event_base64img)("imageChangedEvent",c.imageChangedEvent)("maintainAspectRatio",!0)("aspectRatio",16/9)("cropperMaxWidth",3e3)("cropperMaxHeight",3e3)("transform",c.transform)("autoCrop",!1))},dependencies:[v.O5,y.ap,_.YG,_.Sm,_.W2,_.Gu,_.gu,_.wd,_.sr]}),l})()},6524:(Z,A,a)=>{a.d(A,{O:()=>M});var t=a(7582),g=a(520);const _=(0,a(7423).fo)("Network",{web:()=>a.e(4203).then(a.bind(a,4203)).then(l=>new l.NetworkWeb)});var v=a(4893),y=a(2468),e=a(6501);let P="https://api.soeasyapp.com/",M=(()=>{class l{constructor(n,c,m){this.http=n,this.dataservice=c,this.common=m,this.checkInternetConnection()}initiatePayment(n,c){const m={headers:(new g.WM).set("Content-Type","application/json").set("Authorization","PAY46ZGYME1AE6LUR1AVI1701862757.YFGJ11SECKEY")};return new Promise((C,I)=>{this.http.post("https://admin.payomatix.com/payment/merchant/"+c,JSON.stringify(n),m).subscribe(p=>{C(p)},p=>{I(p),"HttpErrorResponse"==p.name&&("Unknown Error"==p.statusText?this.checkInternetConnection():this.common.presentToast("","OK"==p.statusText?"Something Went Wrong...":p.statusText)),console.log("In Chatconnect provider : Error",p)})})}postData(n,c){const m={headers:(new g.WM).set("Content-Type","application/json")};return new Promise((C,I)=>{this.http.post(P+c,JSON.stringify(n),m).subscribe(p=>{C(p)},p=>{I(p),"HttpErrorResponse"==p.name&&("Unknown Error"==p.statusText?this.checkInternetConnection():this.common.presentToast("","OK"==p.statusText?"Something Went Wrong...":p.statusText)),console.log("In Chatconnect provider : Error",p)})})}checkInternetConnection(){return(0,t.mG)(this,void 0,void 0,function*(){(yield _.getStatus()).connected?console.log("Internet is connected"):(console.log("No internet connection"),this.common.presentToast("","Check your internet connection"))})}postFormData(n,c){return new Promise((m,C)=>{const I=(new g.WM).set("Accept","application/json");this.http.post(P+c,n,{headers:I}).subscribe(p=>{m(p)},p=>{C(p)})})}}return l.\u0275fac=function(n){return new(n||l)(v.LFG(g.eN),v.LFG(y.D),v.LFG(e.v))},l.\u0275prov=v.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()}}]);