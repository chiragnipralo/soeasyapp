"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7353],{7353:(O,y,a)=>{a.r(y),a.d(y,{CommunityPostPageModule:()=>f});var _=a(9808),g=a(2382),i=a(8058),d=a(2561),e=a(4893),C=a(6501),v=a(2468),P=a(6524);const T=["searchBar"];function M(t,m){if(1&t&&(e.TgZ(0,"ion-label"),e._uU(1),e.qZA()),2&t){const n=e.oxw(2).$implicit;e.xp6(1),e.Oqu(n.message)}}function l(t,m){if(1&t&&(e.TgZ(0,"div",21)(1,"ion-card",22),e._UZ(2,"img",23),e.qZA()()),2&t){const n=e.oxw(2).$implicit;e.xp6(2),e.Q6J("src",n.image,e.LSH)}}function x(t,m){if(1&t){const n=e.EpF();e.ynx(0),e.TgZ(1,"ion-accordion-group",11)(2,"ion-accordion",12)(3,"ion-item",13)(4,"div",14)(5,"ion-icon",15),e.NdJ("click",function(){e.CHM(n);const c=e.oxw().$implicit,s=e.oxw();return e.KtG(s.verifytimeline(c.user_id,c.id))}),e.qZA(),e.TgZ(6,"ion-icon",16),e.NdJ("click",function(){e.CHM(n);const c=e.oxw().$implicit,s=e.oxw();return e.KtG(s.deletetimeline(c.user_id,c.id))}),e.qZA()(),e.TgZ(7,"ion-label",17),e._uU(8),e.qZA()(),e.TgZ(9,"div",18)(10,"ion-item",19),e.YNc(11,M,2,1,"ion-label",10),e.YNc(12,l,3,1,"div",20),e.qZA()()()(),e.BQk()}if(2&t){const n=e.oxw().$implicit;e.xp6(8),e.Oqu(n.user_name),e.xp6(3),e.Q6J("ngIf",""!=n.message),e.xp6(1),e.Q6J("ngIf",n.image)}}function r(t,m){if(1&t&&(e.ynx(0),e.YNc(1,x,13,3,"ng-container",10),e.BQk()),2&t){const n=m.$implicit;e.xp6(1),e.Q6J("ngIf",1==n.status)}}const h=[{path:"",component:(()=>{class t{constructor(n,o,c,s,Z,w,S){this.commonservice=n,this._router=o,this._route=c,this.modalController=s,this.dataservice=Z,this.chatconnect=w,this.alertController=S,this.events_data=[],this.showSearchBar=!1,this.searchQuery="",this.filterData=[]}toggleSearchBar(){this.showSearchBar=!this.showSearchBar,this.showSearchBar?setTimeout(()=>{this.searchBarRef.nativeElement.setFocus()},100):this.searchQuery=""}filterItems(n){console.log(n.detail.value),this.dataservice.isNullOrUndefined(n.detail.value)||(this.filterData=this.post.filter(o=>o.user_name.toLowerCase().indexOf(n.detail.value.toLowerCase())>-1))}doRefresh(n){this.ngOnInit(),setTimeout(()=>{n.target.complete()},2e3)}ngOnInit(){this.GetCommunityPost()}GetCommunityPost(){let n={user_token:this.dataservice.getUserData(),community_id:this._route.snapshot.params.community_id};this.chatconnect.postData(n,"paid_community_details_by_id").then(o=>{console.log(o),1==o.Response.status?(this.communityData=o.Response.Details,this.post=this.communityData[0].timeline,this.filterData=this.post):this.commonservice.presentToast("Oops",o.Response.message)},o=>{console.log("Connection failed Messge")})}verifytimeline(n,o){console.log("Member Id ==>",n),this.commonservice.show("Please Wait");let c={user_token:this.dataservice.getUserData(),community_id:this._route.snapshot.params.community_id,member_id:n,row_id:o,command:"verify",premium:1,command_Type:"timeline"};console.log("this is api data ==>",c),this.chatconnect.postData(c,"verify_member").then(s=>{this.commonservice.hide(),console.log(s),1==s.Response.status?(this.commonservice.presentToast("",s.Response.message),this.GetCommunityPost()):this.commonservice.presentToast("Oops",s.Response.message)},s=>{console.log("Connection failed Messge")})}deletetimeline(n,o){console.log("Member Id ==>",n),this.commonservice.show("Please Wait");let c={user_token:this.dataservice.getUserData(),community_id:this._route.snapshot.params.community_id,member_id:n,row_id:o,command:"delete",premium:1,command_Type:"timeline"};this.chatconnect.postData(c,"verify_member").then(s=>{this.commonservice.hide(),console.log(s),1==s.Response.status?(this.commonservice.presentToast("",s.Response.message),this.GetCommunityPost()):this.commonservice.presentToast("Oops",s.Response.message)},s=>{console.log("Connection failed Messge")})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(C.v),e.Y36(d.F0),e.Y36(d.gz),e.Y36(i.IN),e.Y36(v.D),e.Y36(P.O),e.Y36(i.Br))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-community-post"]],viewQuery:function(n,o){if(1&n&&e.Gf(T,5,e.SBq),2&n){let c;e.iGM(c=e.CRH())&&(o.searchBarRef=c.first)}},decls:16,vars:3,consts:[[1,"top"],["slot","start"],["text","","icon","arrow-back-outline"],["name","search-outline",1,"search_icon",3,"click"],[1,"ion-padding-start","ion-padding-end"],["slot","fixed",3,"ionRefresh"],["pullingIcon","arrow-down","pullingText","Pull to refresh","refreshingSpinner","circles"],["placeholder","Search Events",3,"ngModel","hidden","ngModelChange","ionCancel","ionChange"],[1,"container"],[4,"ngFor","ngForOf"],[4,"ngIf"],["expand","inset"],["value","member"],["slot","header","color","dark"],[1,"icon_design"],["name","checkmark-circle-outline",3,"click"],["name","close-circle-outline",3,"click"],[2,"padding-left","10px"],["slot","content",1,"ion-padding"],["routerLink","/member-request"],["class","msg-content",4,"ngIf"],[1,"msg-content"],[1,"admin-post"],[1,"postimg",3,"src"]],template:function(n,o){1&n&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"div",0)(3,"ion-buttons",1),e._UZ(4,"ion-back-button",2),e.qZA(),e.TgZ(5,"ion-title"),e._uU(6,"Posts"),e.qZA(),e.TgZ(7,"ion-icon",3),e.NdJ("click",function(){return o.toggleSearchBar()}),e.qZA()()()(),e.TgZ(8,"ion-content",4)(9,"ion-refresher",5),e.NdJ("ionRefresh",function(s){return o.doRefresh(s)}),e._UZ(10,"ion-refresher-content",6),e.qZA(),e.TgZ(11,"ion-searchbar",7),e.NdJ("ngModelChange",function(s){return o.searchQuery=s})("ionCancel",function(){return o.toggleSearchBar()})("ionChange",function(s){return o.filterItems(s)}),e.qZA(),e.TgZ(12,"div",8)(13,"h2"),e._uU(14,"All Posts"),e.qZA(),e.YNc(15,r,2,1,"ng-container",9),e.qZA()()),2&n&&(e.xp6(11),e.Q6J("ngModel",o.searchQuery)("hidden",!o.showSearchBar),e.xp6(4),e.Q6J("ngForOf",o.filterData))},dependencies:[_.sg,_.O5,g.JJ,g.On,i.We,i.eh,i.oU,i.Sm,i.PM,i.W2,i.Gu,i.gu,i.Ie,i.Q$,i.nJ,i.Wo,i.VI,i.wd,i.sr,i.j9,i.cs,i.YI,d.rH],styles:[".top[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.top[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{text-align:center}.top[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{padding-right:10px}ion-accordion-group[_ngcontent-%COMP%]{margin-bottom:10px}.icon_design[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:25px;margin:5px}.icon_design[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]:nth-child(1){color:green}.icon_design[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]:nth-child(2){color:red}ion-searchbar[_ngcontent-%COMP%]{position:sticky;top:0;z-index:2}"]}),t})()}];let p=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[d.Bz.forChild(h),d.Bz]}),t})(),f=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[_.ez,g.u5,i.Pc,p]}),t})()},6524:(O,y,a)=>{a.d(y,{O:()=>M});var _=a(7582),g=a(520);const d=(0,a(7423).fo)("Network",{web:()=>a.e(4203).then(a.bind(a,4203)).then(l=>new l.NetworkWeb)});var e=a(4893),C=a(2468),v=a(6501);let P="https://api.soeasyapp.com/",M=(()=>{class l{constructor(r,u,h){this.http=r,this.dataservice=u,this.common=h,this.checkInternetConnection()}initiatePayment(r,u){const h={headers:(new g.WM).set("Content-Type","application/json").set("Authorization","PAY46ZGYME1AE6LUR1AVI1701862757.YFGJ11SECKEY")};return new Promise((p,f)=>{this.http.post("https://admin.payomatix.com/payment/merchant/"+u,JSON.stringify(r),h).subscribe(t=>{p(t)},t=>{f(t),"HttpErrorResponse"==t.name&&("Unknown Error"==t.statusText?this.checkInternetConnection():this.common.presentToast("","OK"==t.statusText?"Something Went Wrong...":t.statusText)),console.log("In Chatconnect provider : Error",t)})})}postData(r,u){const h={headers:(new g.WM).set("Content-Type","application/json")};return new Promise((p,f)=>{this.http.post(P+u,JSON.stringify(r),h).subscribe(t=>{p(t)},t=>{f(t),"HttpErrorResponse"==t.name&&("Unknown Error"==t.statusText?this.checkInternetConnection():this.common.presentToast("","OK"==t.statusText?"Something Went Wrong...":t.statusText)),console.log("In Chatconnect provider : Error",t)})})}checkInternetConnection(){return(0,_.mG)(this,void 0,void 0,function*(){(yield d.getStatus()).connected?console.log("Internet is connected"):(console.log("No internet connection"),this.common.presentToast("","Check your internet connection"))})}postFormData(r,u){return new Promise((h,p)=>{const f=(new g.WM).set("Accept","application/json");this.http.post(P+u,r,{headers:f}).subscribe(t=>{h(t)},t=>{p(t)})})}}return l.\u0275fac=function(r){return new(r||l)(e.LFG(g.eN),e.LFG(C.D),e.LFG(v.v))},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()}}]);