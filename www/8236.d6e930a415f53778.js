"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8236],{8236:(b,C,s)=>{s.r(C),s.d(C,{ManageventPageModule:()=>a});var f=s(9808),u=s(2382),i=s(8058),M=s(2561),n=s(4893),x=s(6501),O=s(2468),P=s(6524);const T=["searchBar"];function w(o,g){1&o&&(n.ynx(0,11),n.TgZ(1,"div",12)(2,"div",13),n._uU(3,"No Events"),n.qZA()(),n.BQk())}function d(o,g){1&o&&(n.TgZ(0,"ion-button",27),n._UZ(1,"ion-icon",28),n._uU(2," Live "),n.qZA())}function y(o,g){1&o&&n._UZ(0,"ion-icon",29)}function l(o,g){1&o&&(n.ynx(0),n.TgZ(1,"ion-button",30),n._UZ(2,"ion-icon",31),n._uU(3," Joined "),n.qZA(),n.BQk())}function p(o,g){if(1&o){const t=n.EpF();n.ynx(0),n.TgZ(1,"ion-card")(2,"ion-card-content")(3,"ion-row")(4,"ion-col",14),n.NdJ("click",function(){const c=n.CHM(t).$implicit,h=n.oxw();return n.KtG(h.view_details(c))}),n._UZ(5,"ion-img",15),n.YNc(6,d,3,0,"ion-button",16),n.TgZ(7,"p",17),n._uU(8),n.qZA(),n.YNc(9,y,1,0,"ion-icon",18),n.qZA(),n.TgZ(10,"ion-col",19),n.NdJ("click",function(){const c=n.CHM(t).$implicit,h=n.oxw();return n.KtG(h.view_details(c))}),n.TgZ(11,"div",20)(12,"h2",21),n._uU(13),n.qZA()(),n.TgZ(14,"div")(15,"ion-list"),n._UZ(16,"ion-icon",22),n.TgZ(17,"p"),n._uU(18),n.qZA()(),n.TgZ(19,"ion-list"),n._UZ(20,"ion-icon",23),n.TgZ(21,"p"),n._uU(22),n.qZA()(),n.TgZ(23,"ion-list"),n._UZ(24,"ion-icon",24),n.TgZ(25,"p"),n._uU(26),n.qZA()()()(),n.YNc(27,l,4,0,"ng-container",25),n.TgZ(28,"ion-button",26),n.NdJ("click",function(){const c=n.CHM(t).$implicit,h=n.oxw();return n.KtG(h.manage_event(c))}),n._uU(29,"Manage Event"),n.qZA()()()(),n.BQk()}if(2&o){const t=g.$implicit,e=n.oxw();n.xp6(5),n.Q6J("src",t.event_images),n.xp6(1),n.Q6J("ngIf",1==t.is_live),n.xp6(2),n.hij(" ",t.event_category," "),n.xp6(1),n.Q6J("ngIf",t.is_premium),n.xp6(4),n.Oqu(t.title),n.xp6(5),n.Oqu(e.getFormattedDate(t.event_dates[0].event_date)),n.xp6(4),n.AsE("",e.formatTime(t.event_dates[0].start_time),"-",e.formatTime(t.event_dates[0].end_time),""),n.xp6(4),n.Oqu(e.getCityFromEvent(t.event_venues)),n.xp6(1),n.Q6J("ngIf",t.user_joined_event)}}const _=[{path:"",component:(()=>{class o{constructor(t,e,r,c,h,Z,U){this.commonservice=t,this._router=e,this.modalController=r,this.dataservice=c,this.chatconnect=h,this.datePipe=Z,this.alertController=U,this.events_data=[],this.showSearchBar=!1,this.searchQuery="",this.filterData=[]}toggleSearchBar(){this.showSearchBar=!this.showSearchBar,this.showSearchBar?setTimeout(()=>{this.searchBarRef.nativeElement.setFocus()},100):this.searchQuery=""}filterItems(t){console.log(t.detail.value),this.dataservice.isNullOrUndefined(t.detail.value)||(this.filterData=this.events_data.filter(e=>e.title.toLowerCase().indexOf(t.detail.value.toLowerCase())>-1))}doRefresh(t){this.GetUserEvents(),setTimeout(()=>{t.target.complete()},2e3)}ngOnInit(){this.GetUserEvents()}GetUserEvents(){this.commonservice.show();let t={user_token:this.dataservice.getUserData()};this.chatconnect.postData(t,"manage_events").then(e=>{this.commonservice.hide(),console.log(e),1==e.Response.status?(this.events_data=e.Response.manage_events,this.filterData=this.events_data):this.commonservice.presentToast("Oops",e.Response.message)},e=>{console.log("Connection failed Messge")})}view_details(t){console.log(t),this.dataservice.setEventData(t),this._router.navigate(t.is_premium?["/event-details"]:["/detailseve"])}manage_event(t){this.dataservice.events_guests=t,this._router.navigate(t.is_premium?["paid-guest-list"]:["guest-list"])}formatTime(t){if(!/^([01]\d|2[0-3]):([0-5]\d)$/.test(t))return t;const r=new Date,[c,h]=t.split(":");return r.setHours(parseInt(c,10),parseInt(h,10)),this.datePipe.transform(r,"h:mm a")||t}getCityFromEvent(t){return t.split(",")[0].trim()}getFormattedDate(t){const e=new Date(t);return isNaN(e.getTime())?"":this.datePipe.transform(e,"dd MMMM yyyy")||""}}return o.\u0275fac=function(t){return new(t||o)(n.Y36(x.v),n.Y36(M.F0),n.Y36(i.IN),n.Y36(O.D),n.Y36(P.O),n.Y36(f.uU),n.Y36(i.Br))},o.\u0275cmp=n.Xpm({type:o,selectors:[["app-managevent"]],viewQuery:function(t,e){if(1&t&&n.Gf(T,5,n.SBq),2&t){let r;n.iGM(r=n.CRH())&&(e.searchBarRef=r.first)}},decls:15,vars:4,consts:[["slot","start"],["text","","icon","arrow-back-outline"],["name","search-outline","slot","end",1,"ion-padding-end","search_icon",3,"click"],[1,"ion-padding-start","ion-padding-end"],["slot","fixed",3,"ionRefresh"],["pullingIcon","arrow-down","pullingText","Pull to refresh","refreshingSpinner","circles"],["placeholder","Search Events",3,"ngModel","hidden","ngModelChange","ionCancel","ionChange"],["searchBar",""],[1,"container"],["class","cateLbl",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"cateLbl"],[1,"sub_container"],[1,"no_events"],["size","6",1,"eventcol",3,"click"],[3,"src"],["shape","round","size","small","color","danger","style","position: absolute;top: 3px;left: 5px;font-size: 9px;max-width: 48px;",4,"ngIf"],[1,"category_style"],["name","star","style","position: absolute;top: 8px;color: gold;right: 10px;font-size: 21px;",4,"ngIf"],["size","6",3,"click"],[1,"head"],[1,"ion-text-capitalize"],["name","calendar-outline"],["name","time-outline"],["name","location-outline"],[4,"ngIf"],["size","small","color","primary","shape","round","fill","outline",3,"click"],["shape","round","size","small","color","danger",2,"position","absolute","top","3px","left","5px","font-size","9px","max-width","48px"],["slot","start","name","caret-forward-circle-outline",2,"font-size","9px"],["name","star",2,"position","absolute","top","8px","color","gold","right","10px","font-size","21px"],["shape","round","size","small","color","secondary",2,"font-size","9px"],["slot","start","name","checkmark-done-circle-outline",2,"font-size","9px"]],template:function(t,e){1&t&&(n.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),n._UZ(3,"ion-back-button",1),n.qZA(),n.TgZ(4,"ion-title"),n._uU(5,"Manage Events"),n.qZA(),n.TgZ(6,"ion-icon",2),n.NdJ("click",function(){return e.toggleSearchBar()}),n.qZA()()(),n.TgZ(7,"ion-content",3)(8,"ion-refresher",4),n.NdJ("ionRefresh",function(c){return e.doRefresh(c)}),n._UZ(9,"ion-refresher-content",5),n.qZA(),n.TgZ(10,"ion-searchbar",6,7),n.NdJ("ngModelChange",function(c){return e.searchQuery=c})("ionCancel",function(){return e.toggleSearchBar()})("ionChange",function(c){return e.filterItems(c)}),n.qZA(),n.TgZ(12,"div",8),n.YNc(13,w,4,0,"ng-container",9),n.YNc(14,p,30,10,"ng-container",10),n.qZA()()),2&t&&(n.xp6(10),n.Q6J("ngModel",e.searchQuery)("hidden",!e.showSearchBar),n.xp6(3),n.Q6J("ngIf",!e.filterData||0===e.filterData.length),n.xp6(1),n.Q6J("ngForOf",e.filterData))},dependencies:[f.sg,f.O5,u.JJ,u.On,i.oU,i.YG,i.Sm,i.PM,i.FN,i.wI,i.W2,i.Gu,i.gu,i.Xz,i.q_,i.nJ,i.Wo,i.Nd,i.VI,i.wd,i.sr,i.j9,i.cs],styles:["ion-title[_ngcontent-%COMP%]{position:absolute;inset:0;text-align:center}ion-buttons[_ngcontent-%COMP%]{width:0%}.sub_container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%;font-size:16px;font-weight:700}ion-searchbar[_ngcontent-%COMP%]{position:sticky;top:0;z-index:2}ion-content[_ngcontent-%COMP%]{--background: linear-gradient(to bottom, #ffffff, #e2fbcc)}ion-list[_ngcontent-%COMP%]{background:transparent}.container[_ngcontent-%COMP%]{height:100%}.container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:170px;text-transform:uppercase}.container[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{background:rgb(248,248,248);margin:15px 0;padding:0;border-radius:10px;box-shadow:2px 4px 4px #929191}.container[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{margin:0;padding:0}.container[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]:nth-child(1){cursor:pointer;height:160px}.container[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]:nth-child(1)   ion-img[_ngcontent-%COMP%]{height:100%}.container[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]::part(image){border-radius:10px;object-fit:cover}.container[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px;color:#000}.container[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{--color: black;font-size:13px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.container[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px}.container[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{background:transparent;padding:0;margin:5px 0;display:flex;align-items:center}.container[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#000;margin-right:5px}.container[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:140px;font-weight:600}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{position:absolute;right:0;bottom:1px;font-size:12px}.container[_ngcontent-%COMP%]   .join-tag[_ngcontent-%COMP%]{position:absolute;top:4px;left:5px}.container[_ngcontent-%COMP%]   .category_style[_ngcontent-%COMP%]{position:relative;bottom:25px;right:0;border-radius:0 0 7px 7px;left:0;z-index:0;background:#469c27;color:#fff;padding:2px 7px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}"]}),o})()}];let v=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[M.Bz.forChild(_),M.Bz]}),o})(),a=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({providers:[f.uU],imports:[f.ez,u.u5,i.Pc,v]}),o})()},6524:(b,C,s)=>{s.d(C,{O:()=>w});var f=s(7582),u=s(520);const M=(0,s(7423).fo)("Network",{web:()=>s.e(4203).then(s.bind(s,4203)).then(d=>new d.NetworkWeb)});var n=s(4893),x=s(2468),O=s(6501);let P="https://api.soeasyapp.com/",w=(()=>{class d{constructor(l,p,m){this.http=l,this.dataservice=p,this.common=m,this.checkInternetConnection()}initiatePayment(l,p){const m={headers:(new u.WM).set("Content-Type","application/json").set("Authorization","PAY46ZGYME1AE6LUR1AVI1701862757.YFGJ11SECKEY")};return new Promise((_,v)=>{this.http.post("https://admin.payomatix.com/payment/merchant/"+p,JSON.stringify(l),m).subscribe(a=>{_(a)},a=>{v(a),"HttpErrorResponse"==a.name&&("Unknown Error"==a.statusText?this.checkInternetConnection():this.common.presentToast("","OK"==a.statusText?"Something Went Wrong...":a.statusText)),console.log("In Chatconnect provider : Error",a)})})}postData(l,p){const m={headers:(new u.WM).set("Content-Type","application/json")};return new Promise((_,v)=>{this.http.post(P+p,JSON.stringify(l),m).subscribe(a=>{_(a)},a=>{v(a),"HttpErrorResponse"==a.name&&("Unknown Error"==a.statusText?this.checkInternetConnection():this.common.presentToast("","OK"==a.statusText?"Something Went Wrong...":a.statusText)),console.log("In Chatconnect provider : Error",a)})})}checkInternetConnection(){return(0,f.mG)(this,void 0,void 0,function*(){(yield M.getStatus()).connected?console.log("Internet is connected"):(console.log("No internet connection"),this.common.presentToast("","Check your internet connection"))})}postFormData(l,p){return new Promise((m,_)=>{const v=(new u.WM).set("Accept","application/json");this.http.post(P+p,l,{headers:v}).subscribe(a=>{m(a)},a=>{_(a)})})}}return d.\u0275fac=function(l){return new(l||d)(n.LFG(u.eN),n.LFG(x.D),n.LFG(O.v))},d.\u0275prov=n.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()}}]);