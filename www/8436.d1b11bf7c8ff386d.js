"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8436],{8436:(_,M,r)=>{r.r(M),r.d(M,{AddSamitiMemberPageModule:()=>h});var u=r(9808),p=r(2382),i=r(8058),f=r(2561),e=r(4893),v=r(6501),S=r(2468),b=r(6524);const A=["searchBar"];function C(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",16)(1,"ion-input",17),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw().$implicit;return e.KtG(a.role=o)}),e.qZA()()}if(2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngModel",t.role)}}function m(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"ion-card",11)(1,"div",12)(2,"ion-label",13)(3,"ion-text")(4,"h3"),e._uU(5),e.qZA()()(),e.TgZ(6,"ion-checkbox",14),e.NdJ("ngModelChange",function(o){const g=e.CHM(t).$implicit;return e.KtG(g.checked=o)}),e.qZA()(),e.YNc(7,C,2,1,"div",15),e.qZA()}if(2&n){const t=c.$implicit;e.xp6(5),e.Oqu(t.full_name),e.xp6(1),e.Q6J("ngModel",t.checked),e.xp6(1),e.Q6J("ngIf",t.checked)}}const d=[{path:"",component:(()=>{class n{constructor(t,s,o,a,g,y){this.commonservice=t,this.dataservice=s,this.chatconnect=o,this._route=a,this.location=g,this.router=y,this.showSearchBar=!1,this.searchQuery="",this.filterData=[],this.selectedMembers=[]}toggleSearchBar(){this.showSearchBar=!this.showSearchBar,this.showSearchBar?setTimeout(()=>{this.searchBarRef.nativeElement.setFocus()},100):this.searchQuery=""}filterItems(t){console.log(t.detail.value),this.dataservice.isNullOrUndefined(t.detail.value)||(this.filterData=this.member.filter(s=>s.full_name.toLowerCase().indexOf(t.detail.value.toLowerCase())>-1))}doRefresh(t){this.GetCommunityMember(),setTimeout(()=>{t.target.complete()},2e3)}checkboxClick(t){console.log(t)}ngOnInit(){console.log("SamitiID=>",this._route.snapshot.params.samiti_id)}ionViewDidEnter(){console.log("page enter"),this.GetCommunityMember()}GetCommunityMember(){const t=this.dataservice.GetAccountuser();let s={user_token:this.dataservice.getUserData(),community_id:t,samiti_id:this._route.snapshot.params.samiti_id};this.chatconnect.postData(s,"samiti_member_list").then(o=>{console.log(o),1==o.Response.status?(this.member=o.Response.members,this.filterData=this.member,console.log("This is Member Details:",this.filterData)):this.commonservice.presentToast("Oops",o.Response.message)},o=>{console.log("Connection failed Messge")})}add_member(){const s=this.filterData.filter(a=>a.checked).map(a=>({user_id:a.user_id,role:a.role}));if(console.log(s),0===s.length)this.commonservice.presentToast("Oops","Please Select Member...");else{this.commonservice.show("Please Wait");const a=this.dataservice.getUserData();var o=new FormData;null!==a&&o.append("user_token",a),o.append("samiti_id",this._route.snapshot.params.samiti_id),o.append("members",JSON.stringify(s)),this.chatconnect.postFormData(o,"add_samiti_member").then(g=>{this.commonservice.hide(),1==g.Response.status?(this.commonservice.presentToast("",g.Response.message),this.router.navigate(["/samiti-details",{samiti_id:this._route.snapshot.params.samiti_id}])):this.commonservice.presentToast("Oops",g.Response.message)},g=>{this.commonservice.hide(),console.log("Connection failed Messge")})}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(v.v),e.Y36(S.D),e.Y36(b.O),e.Y36(f.gz),e.Y36(u.Ye),e.Y36(f.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-samiti-member"]],viewQuery:function(t,s){if(1&t&&e.Gf(A,5,e.SBq),2&t){let o;e.iGM(o=e.CRH())&&(s.searchBarRef=o.first)}},decls:15,vars:4,consts:[["slot","start"],["text","","icon","arrow-back-outline"],[2,"text-align","center"],["slot","end","name","search-outline",1,"search_icon","ion-padding-end",3,"click"],[3,"fullscreen"],["slot","fixed",3,"ionRefresh"],["refreshingSpinner","circles"],["placeholder","Search..",3,"ngModel","hidden","ngModelChange","ionCancel","ionChange"],["class","ion-padding",4,"ngFor","ngForOf"],[1,"ion-no-border"],["shape","round","color","secondary",3,"click"],[1,"ion-padding"],[1,"member_list"],[1,"ion-text-wrap"],["slot","end",3,"ngModel","ngModelChange"],["class","input_box",4,"ngIf"],[1,"input_box"],["placeholder","Enter role",3,"ngModel","ngModelChange"]],template:function(t,s){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),e._UZ(3,"ion-back-button",1),e.qZA(),e.TgZ(4,"ion-title",2),e._uU(5,"Add Member"),e.qZA(),e.TgZ(6,"ion-icon",3),e.NdJ("click",function(){return s.toggleSearchBar()}),e.qZA()()(),e.TgZ(7,"ion-content",4)(8,"ion-refresher",5),e.NdJ("ionRefresh",function(a){return s.doRefresh(a)}),e._UZ(9,"ion-refresher-content",6),e.qZA(),e.TgZ(10,"ion-searchbar",7),e.NdJ("ngModelChange",function(a){return s.searchQuery=a})("ionCancel",function(){return s.toggleSearchBar()})("ionChange",function(a){return s.filterItems(a)}),e.qZA(),e.YNc(11,m,8,3,"ion-card",8),e.qZA(),e.TgZ(12,"ion-footer",9)(13,"ion-button",10),e.NdJ("click",function(){return s.add_member()}),e._uU(14,"Add"),e.qZA()()),2&t&&(e.xp6(7),e.Q6J("fullscreen",!0),e.xp6(3),e.Q6J("ngModel",s.searchQuery)("hidden",!s.showSearchBar),e.xp6(1),e.Q6J("ngForOf",s.filterData))},dependencies:[u.sg,u.O5,p.JJ,p.On,i.oU,i.YG,i.Sm,i.PM,i.nz,i.W2,i.fr,i.Gu,i.gu,i.pK,i.Q$,i.nJ,i.Wo,i.VI,i.yW,i.wd,i.sr,i.w,i.j9,i.cs],styles:["ion-footer[_ngcontent-%COMP%]{display:flex;justify-content:center}.member_list[_ngcontent-%COMP%]{display:flex;justify-content:space-between;text-transform:capitalize}.input_box[_ngcontent-%COMP%]{border:1px solid #cbcbcb;margin-top:16px;border-radius:5px}"]}),n})()}];let l=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[f.Bz.forChild(d),f.Bz]}),n})(),h=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[u.ez,p.u5,i.Pc,l]}),n})()},6524:(_,M,r)=>{r.d(M,{O:()=>C});var u=r(7582),p=r(520);const f=(0,r(7423).fo)("Network",{web:()=>r.e(4203).then(r.bind(r,4203)).then(m=>new m.NetworkWeb)});var e=r(4893),v=r(2468),S=r(6501);let b="https://api.soeasyapp.com/",C=(()=>{class m{constructor(d,l,h){this.http=d,this.dataservice=l,this.common=h,this.checkInternetConnection()}initiatePayment(d,l){const h={headers:(new p.WM).set("Content-Type","application/json").set("Authorization","PAY46ZGYME1AE6LUR1AVI1701862757.YFGJ11SECKEY")};return new Promise((n,c)=>{this.http.post("https://admin.payomatix.com/payment/merchant/"+l,JSON.stringify(d),h).subscribe(t=>{n(t)},t=>{c(t),"HttpErrorResponse"==t.name&&("Unknown Error"==t.statusText?this.checkInternetConnection():this.common.presentToast("","OK"==t.statusText?"Something Went Wrong...":t.statusText)),console.log("In Chatconnect provider : Error",t)})})}postData(d,l){const h={headers:(new p.WM).set("Content-Type","application/json")};return new Promise((n,c)=>{this.http.post(b+l,JSON.stringify(d),h).subscribe(t=>{n(t)},t=>{c(t),"HttpErrorResponse"==t.name&&("Unknown Error"==t.statusText?this.checkInternetConnection():this.common.presentToast("","OK"==t.statusText?"Something Went Wrong...":t.statusText)),console.log("In Chatconnect provider : Error",t)})})}checkInternetConnection(){return(0,u.mG)(this,void 0,void 0,function*(){(yield f.getStatus()).connected?console.log("Internet is connected"):(console.log("No internet connection"),this.common.presentToast("","Check your internet connection"))})}postFormData(d,l){return new Promise((h,n)=>{const c=(new p.WM).set("Accept","application/json");this.http.post(b+l,d,{headers:c}).subscribe(t=>{h(t)},t=>{n(t)})})}}return m.\u0275fac=function(d){return new(d||m)(e.LFG(p.eN),e.LFG(v.D),e.LFG(S.v))},m.\u0275prov=e.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()}}]);