"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8645],{8645:(R,d,i)=>{i.r(d),i.d(d,{LoginPageModule:()=>O});var g=i(9808),a=i(2382),l=i(8058),m=i(2561),h=i(7582),u=i(6393),e=i(4893),b=i(6501),f=i(133),v=i(7053),C=i(2468),P=i(6524);function y(t,s){if(1&t&&(e.TgZ(0,"div",13),e._uU(1),e.qZA()),2&t){const o=e.oxw().$implicit;e.xp6(1),e.hij(" ",o.message," ")}}function x(t,s){if(1&t&&(e.ynx(0),e.YNc(1,y,2,1,"div",12),e.BQk()),2&t){const o=s.$implicit,n=e.oxw();let r;e.xp6(1),e.Q6J("ngIf",(null==n.ionicForm||null==(r=n.ionicForm.get("mobile_number"))?null:r.hasError(o.type))&&((null==n.ionicForm||null==(r=n.ionicForm.get("mobile_number"))?null:r.dirty)||(null==n.ionicForm||null==(r=n.ionicForm.get("mobile_number"))?null:r.touched)))}}const F=function(t,s){return[t,s]},_=[{path:"",component:(()=>{class t{constructor(o,n,r,c,p,T,S,L,Z,A,N){this.formBuilder=o,this.alertController=n,this.common=r,this.smsRetriever=c,this.authservice=p,this.dataservice=T,this.chatconnect=S,this.router=L,this.navCtrl=Z,this.platform=A,this.loadingController=N,this.smsTextmessage="",this.appHashString="",this.isSubmitted=!1,this.separateDialCode=!0,this.SearchCountryField=u.wX,this.CountryISO=u.HT,this.PhoneNumberFormat=u.M9,this.preferredCountries=[u.HT.UnitedStates,u.HT.UnitedKingdom],this.error_messages={mobile_number:[{type:"required",message:"Mobile number is required."}]},this.ionicForm=this.formBuilder.group({mobile_number:["",[a.kI.required]]}),this.platform.backButton.subscribeWithPriority(10,()=>{"/login"===this.router.url?this.navCtrl.navigateRoot("/login"):this.navCtrl.back(),this.platform.is("android")&&this.platform.is("cordova")&&"/login"===window.location.pathname&&navigator.app.exitApp()})}GoToSignUp(){this.router.navigate(["/register"])}ngOnInit(){this.ionicForm=this.formBuilder.group({mobile_number:["",[a.kI.required]]}),this.getHashCode()}getHashCode(){this.smsRetriever.getAppHash().then(o=>{console.log(o),this.dataservice.appHashString=o}).catch(o=>console.error(o))}submit(){return(0,h.mG)(this,void 0,void 0,function*(){if(this.isSubmitted=!0,this.ionicForm.markAllAsTouched(),this.ionicForm.valid){const n=this.ionicForm.value.mobile_number.internationalNumber.replace(new RegExp(`^\\${this.ionicForm.value.mobile_number.dialCode}\\s*`),"").replace(/\s+/g,"");this.common.show("Please Wait");let r={mobile_number:n,numberDetails:this.ionicForm.value.mobile_number,app_hash:this.dataservice.appHashString,request_type:"user_login"};this.dataservice.is_user_login_or_signup="user_login",this.chatconnect.postData(r,"sendloginotp").then(c=>(0,h.mG)(this,void 0,void 0,function*(){this.common.hide(),1==c.Response.status?(this.dataservice.set_user_signup=this.ionicForm.value,this.dataservice.setOtp(c.Response.code),this.router.navigate(["/res-otp"],{queryParams:{requestType:"user_login"}}),"user_login"==c.Response.request_type?this.dataservice.user_req_token=c.Response.userdata.user_token:(this.common.presentToast("Oops","Please Register"),this.router.navigate(["/register"]))):(this.dataservice.mobile_number=n,yield(yield this.alertController.create({header:"Please Register...",message:c.Response.message,cssClass:"loginAlert",buttons:[{text:"Register",cssClass:"alert-button-confirm",handler:()=>{this.router.navigate(["/register"])}},{text:"Cancel",cssClass:"alert-button-cancel",role:"cancel",handler:()=>{}}]})).present())}),c=>{this.common.hide(),console.log("Connection failed Messge")}),console.log(this.ionicForm.value)}else(yield this.alertController.create({subHeader:"Please Enter valid Mobile Number",buttons:["Dismiss"]})).present()})}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(a.qu),e.Y36(l.Br),e.Y36(b.v),e.Y36(f.u),e.Y36(v.$),e.Y36(C.D),e.Y36(P.O),e.Y36(m.F0),e.Y36(l.SH),e.Y36(l.t4),e.Y36(l.HT))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-login"]],decls:19,vars:17,consts:[["scroll-y","true"],[1,"container","ion-padding"],[1,"img_box"],["src","../../../assets/images/login.png"],[3,"formGroup","ngSubmit"],[1,"login"],[1,"form-input"],["name","phone","formControlName","mobile_number","customPlaceholder","Phone Number",3,"cssClass","preferredCountries","enableAutoCountrySelect","enablePlaceholder","searchCountryFlag","searchCountryField","selectFirstCountry","selectedCountryISO","maxLength","phoneValidation","separateDialCode","numberFormat"],[4,"ngFor","ngForOf"],["expand","block","shape","round","color","secondary","type","submit"],[2,"display","flex","justify-content","center"],[2,"padding-left","12px","font-weight","bold","color","#506e50",3,"click"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(o,n){1&o&&(e.TgZ(0,"ion-content",0)(1,"div",1)(2,"div",2),e._UZ(3,"ion-img",3),e.qZA(),e.TgZ(4,"h3"),e._uU(5,"Welcome!"),e.qZA(),e.TgZ(6,"p"),e._uU(7,"Let's find fun events and communities with your friends and families."),e.qZA(),e.TgZ(8,"form",4),e.NdJ("ngSubmit",function(){return n.submit()}),e.TgZ(9,"div",5)(10,"div",6),e._UZ(11,"ngx-intl-tel-input",7),e.qZA(),e.YNc(12,x,2,1,"ng-container",8),e.TgZ(13,"ion-button",9),e._uU(14,"Get OTP"),e.qZA(),e.TgZ(15,"ion-label",10),e._uU(16,"Don't have an account ? "),e.TgZ(17,"h3",11),e.NdJ("click",function(){return n.GoToSignUp()}),e._uU(18,"Sign Up"),e.qZA()()()()()()),2&o&&(e.xp6(8),e.Q6J("formGroup",n.ionicForm),e.xp6(3),e.Q6J("cssClass","customInputForMobileNumber")("preferredCountries",n.preferredCountries)("enableAutoCountrySelect",!0)("enablePlaceholder",!0)("searchCountryFlag",!0)("searchCountryField",e.WLB(14,F,n.SearchCountryField.Iso2,n.SearchCountryField.Name))("selectFirstCountry",!1)("selectedCountryISO",n.CountryISO.India)("maxLength",15)("phoneValidation",!0)("separateDialCode",n.separateDialCode)("numberFormat",n.PhoneNumberFormat.National),e.xp6(1),e.Q6J("ngForOf",n.error_messages.mobile_number))},dependencies:[g.sg,g.O5,a._Y,a.JJ,a.JL,a.sg,a.u,l.YG,l.W2,l.Xz,l.Q$,u.FV,u.mh],styles:[".img_box[_ngcontent-%COMP%]{height:300px;width:300px;margin:auto}.login[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{background:rgba(241,241,241,.79);border:1px solid #285500;border-radius:5px;height:50px;padding-left:30px!important;font-size:14px}.login[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:25px;position:relative;color:#00000b;top:42px;left:8px;z-index:5;font-weight:bolder}.login[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{margin-bottom:15px}.header-md[_ngcontent-%COMP%]:after{background:none}.error-message[_ngcontent-%COMP%]{color:red;text-align:center;padding-bottom:10px}p[_ngcontent-%COMP%]{font-size:14px}.center[_ngcontent-%COMP%]{text-align:center}.center[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.6rem;background-color:gray;padding:6px;margin:10px;border-radius:25px}ion-button[_ngcontent-%COMP%]{margin-bottom:15px;height:45px}.selected-dial-code[_ngcontent-%COMP%]{margin-left:20px!important;margin-bottom:-34px;margin-top:22px;z-index:99;position:relative}"]}),t})()}];let M=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[m.Bz.forChild(_),m.Bz]}),t})(),O=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[g.ez,a.u5,a.UX,l.Pc,M,u.J7]}),t})()}}]);