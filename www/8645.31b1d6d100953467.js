"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8645],{8645:(R,u,r)=>{r.r(u),r.d(u,{LoginPageModule:()=>M});var g=r(9808),a=r(2382),s=r(8058),c=r(2561),m=r(7582),e=r(4893),h=r(6501),f=r(133),v=r(7053),b=r(2468),P=r(6524),p=r(6393);function x(t,l){if(1&t&&(e.TgZ(0,"div",13),e._uU(1),e.qZA()),2&t){const n=e.oxw().$implicit;e.xp6(1),e.hij(" ",n.message," ")}}function C(t,l){if(1&t&&(e.ynx(0),e.YNc(1,x,2,1,"div",12),e.BQk()),2&t){const n=l.$implicit,i=e.oxw();let o;e.xp6(1),e.Q6J("ngIf",(null==i.ionicForm||null==(o=i.ionicForm.get("mobile_number"))?null:o.hasError(n.type))&&((null==i.ionicForm||null==(o=i.ionicForm.get("mobile_number"))?null:o.dirty)||(null==i.ionicForm||null==(o=i.ionicForm.get("mobile_number"))?null:o.touched)))}}const y=[{path:"",component:(()=>{class t{constructor(n,i,o,d,O,T,F,L,Z,Y,A){this.formBuilder=n,this.alertController=i,this.common=o,this.smsRetriever=d,this.authservice=O,this.dataservice=T,this.chatconnect=F,this.router=L,this.navCtrl=Z,this.platform=Y,this.loadingController=A,this.smsTextmessage="",this.appHashString="",this.isSubmitted=!1,this.error_messages={mobile_number:[{type:"required",message:"Mobile number is required."},{type:"pattern",message:"Enter a valid mobile number."}]},this.ionicForm=this.formBuilder.group({mobile_number:["",[a.kI.required,a.kI.pattern("^[0-9]{10}$")]]}),this.platform.backButton.subscribeWithPriority(10,()=>{"/login"===this.router.url?this.navCtrl.navigateRoot("/login"):this.navCtrl.back(),this.platform.is("android")&&this.platform.is("cordova")&&"/login"===window.location.pathname&&navigator.app.exitApp()})}GoToSignUp(){this.router.navigate(["/register"])}ngOnInit(){this.getHashCode()}getHashCode(){this.smsRetriever.getAppHash().then(n=>{console.log(n),this.dataservice.appHashString=n}).catch(n=>console.error(n))}submit(){return(0,m.mG)(this,void 0,void 0,function*(){if(this.isSubmitted=!0,this.ionicForm.markAllAsTouched(),!this.ionicForm.valid)return void(yield(yield this.alertController.create({subHeader:"Please Enter valid Mobile Number",buttons:["Dismiss"]})).present());const n=this.ionicForm.value.mobile_number;this.common.show("Please Wait");let i={mobile_number:n,numberDetails:this.ionicForm.value.mobile_number,app_hash:this.dataservice.appHashString,request_type:"user_login"};this.dataservice.is_user_login_or_signup="user_login",this.chatconnect.postData(i,"sendloginotp").then(o=>(0,m.mG)(this,void 0,void 0,function*(){this.common.hide(),1==o.Response.status?(this.dataservice.set_user_signup=this.ionicForm.value,this.dataservice.setOtp(o.Response.code),this.router.navigate(["/res-otp"],{queryParams:{requestType:"user_login"}}),"user_login"==o.Response.request_type?this.dataservice.user_req_token=o.Response.userdata.user_token:(this.common.presentToast("Oops","Please Register"),this.router.navigate(["/register"]))):(this.dataservice.mobile_number=n,yield(yield this.alertController.create({header:"Please Register...",message:o.Response.message,cssClass:"loginAlert",buttons:[{text:"Register",cssClass:"alert-button-confirm",handler:()=>{this.router.navigate(["/register"])}},{text:"Cancel",cssClass:"alert-button-cancel",role:"cancel",handler:()=>{}}]})).present())}),o=>{this.common.hide(),console.log("Connection failed Message")}),console.log(this.ionicForm.value)})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(a.qu),e.Y36(s.Br),e.Y36(h.v),e.Y36(f.u),e.Y36(v.$),e.Y36(b.D),e.Y36(P.O),e.Y36(c.F0),e.Y36(s.SH),e.Y36(s.t4),e.Y36(s.HT))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-login"]],decls:19,vars:2,consts:[["scroll-y","true"],[1,"container","ion-padding"],[1,"img_box"],["src","../../../assets/images/login.png"],[3,"formGroup","ngSubmit"],[1,"login"],[1,"form-input"],["formControlName","mobile_number","type","number","placeholder","Please enter phone number","clearInput",""],[4,"ngFor","ngForOf"],["expand","block","shape","round","color","secondary","type","submit"],[2,"display","flex","justify-content","center"],[2,"padding-left","12px","font-weight","bold","color","#506e50",3,"click"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(n,i){1&n&&(e.TgZ(0,"ion-content",0)(1,"div",1)(2,"div",2),e._UZ(3,"ion-img",3),e.qZA(),e.TgZ(4,"h3"),e._uU(5,"Welcome!"),e.qZA(),e.TgZ(6,"p"),e._uU(7,"Let's find fun events and communities with your friends and families."),e.qZA(),e.TgZ(8,"form",4),e.NdJ("ngSubmit",function(){return i.submit()}),e.TgZ(9,"div",5)(10,"div",6),e._UZ(11,"ion-input",7),e.qZA(),e.YNc(12,C,2,1,"ng-container",8),e.TgZ(13,"ion-button",9),e._uU(14,"Get OTP"),e.qZA(),e.TgZ(15,"ion-label",10),e._uU(16,"Don't have an account ? "),e.TgZ(17,"h3",11),e.NdJ("click",function(){return i.GoToSignUp()}),e._uU(18,"Sign Up"),e.qZA()()()()()()),2&n&&(e.xp6(8),e.Q6J("formGroup",i.ionicForm),e.xp6(4),e.Q6J("ngForOf",i.error_messages.mobile_number))},dependencies:[g.sg,g.O5,a._Y,a.JJ,a.JL,a.sg,a.u,s.YG,s.W2,s.Xz,s.pK,s.Q$,s.as,p.mh],styles:[".img_box[_ngcontent-%COMP%]{height:300px;width:300px;margin:auto}.login[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{background:rgba(241,241,241,.79);border:1px solid #285500;border-radius:5px;height:50px;padding-left:0!important;font-size:14px}.login[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:25px;position:relative;color:#00000b;top:42px;left:8px;z-index:5;font-weight:bolder}.login[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{margin-bottom:15px}.header-md[_ngcontent-%COMP%]:after{background:none}.error-message[_ngcontent-%COMP%]{color:red;text-align:center;padding-bottom:10px}p[_ngcontent-%COMP%]{font-size:14px}.center[_ngcontent-%COMP%]{text-align:center}.center[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.6rem;background-color:gray;padding:6px;margin:10px;border-radius:25px}ion-button[_ngcontent-%COMP%]{margin-bottom:15px;height:45px}"]}),t})()}];let _=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[c.Bz.forChild(y),c.Bz]}),t})(),M=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[g.ez,a.u5,a.UX,s.Pc,_,p.J7]}),t})()}}]);