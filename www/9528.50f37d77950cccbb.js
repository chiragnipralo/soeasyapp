"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9528],{9528:(P,h,s)=>{s.r(h),s.d(h,{AddStaffPageModule:()=>g});var m=s(9808),f=s(2382),a=s(8058),p=s(2561),e=s(4893),v=s(6501),_=s(2468),u=s(6524);function S(n,r){if(1&n){const o=e.EpF();e.ynx(0),e.TgZ(1,"div",15),e.NdJ("click",function(){const i=e.CHM(o).$implicit,M=e.oxw();return e.KtG(M.SetValue(i))}),e._uU(2),e.qZA(),e.BQk()}if(2&n){const o=r.$implicit;e.xp6(2),e.Oqu(o.user_name)}}function A(n,r){1&n&&(e.TgZ(0,"div"),e._UZ(1,"ion-input",16),e.qZA())}const C=[{path:"",component:(()=>{class n{constructor(o,t,c,i,M,x,T){this.commonservice=o,this.dataservice=t,this._route=c,this._router=i,this.chatconnect=M,this.location=x,this.alertController=T,this.user_lists=[],this.ev_managers={},this.selectedFromList=!1}testFunc(o){if(o.detail.value.length>3){let t={user_token:this.dataservice.getUserData(),search_params:o.detail.value};this.chatconnect.postData(t,"get_all_users").then(c=>{1==c.Response.status?this.user_lists=c.Response.all_users:this.commonservice.presentToast("Oops",c.Response.message)},c=>{console.log("Connection failed Messge")})}}SetValue(o){this.ev_managers.user_id=o.id,this.searchTerm=o.user_name,this.user_lists=[],this.selectedFromList=!0,console.log("Selected user:",o)}SubmitData(){const o=this._route.snapshot.params.event_type;if(console.log("SubmitData called"),console.log("SelectedFromList:",this.selectedFromList),console.log("ev_managers.user_id:",this.ev_managers.user_id),null==this.event_man_role)return this.commonservice.presentToast("","Select Admin role."),!1;if(!this.selectedFromList||!this.ev_managers.user_id)return this.commonservice.presentToast("","Please select a valid Soeasy member from the list."),!1;if(this.dataservice.staff_data.event_managers||(this.dataservice.staff_data.event_managers=[]),this.dataservice.staff_data.event_managers.some(i=>i.user_id===this.ev_managers.user_id))return this.commonservice.presentToast("","Admin already exists."),!1;this.ev_managers.event_role=parseInt(this.event_man_role),this.dataservice.staff_data.event_managers.push(this.ev_managers);let c={event_id:this.dataservice.staff_data.id,user_token:this.dataservice.getUserData(),event_managers:this.dataservice.staff_data.event_managers,event_type:o};this.chatconnect.postData(c,"add_staff_to_event").then(i=>{1==i.Response.status?(this.commonservice.presentToast("",i.Response.message),this.location.back()):this.commonservice.presentToast("Oops",i.Response.message)},i=>{console.log("Connection failed Messge")})}ngOnInit(){this.dataservice.staff_data.event_managers||(this.dataservice.staff_data.event_managers=[]),this.dataservice.ValidateArray(this.dataservice.staff_data.event_managers)}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(v.v),e.Y36(_.D),e.Y36(p.gz),e.Y36(p.F0),e.Y36(u.O),e.Y36(m.Ye),e.Y36(a.Br))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-staff"]],decls:26,vars:4,consts:[["slot","start"],["text","","icon","arrow-back-outline"],["slot","end","name","close","routerLink","/tabs/home"],[1,"ion-padding"],[1,"form-input"],["placeholder","Enter Name",1,"loading",3,"ngModel","ionChange","ngModelChange"],[4,"ngFor","ngForOf"],[1,"form-input","mt-21"],["name","cat","interface","popover","placeholder","Select Staff Role",3,"ngModel","ngModelChange"],["lang",""],["value","1",2,"font-size","14px"],["value","2",2,"font-size","14px"],[4,"ngIf"],[1,"ion-no-border"],["color","secondary","shape","round",3,"click"],[1,"search_container",3,"click"],["placeholder","Mention Staff Role"]],template:function(o,t){if(1&o&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),e._UZ(3,"ion-back-button",1),e.qZA(),e.TgZ(4,"h2"),e._uU(5,"Add Staff"),e.qZA(),e._UZ(6,"ion-icon",2),e.qZA()(),e.TgZ(7,"ion-content",3)(8,"div",4)(9,"ion-label"),e._uU(10,"Name"),e.qZA(),e.TgZ(11,"ion-input",5),e.NdJ("ionChange",function(i){return t.testFunc(i)})("ngModelChange",function(i){return t.searchTerm=i}),e.qZA()(),e.YNc(12,S,3,1,"ng-container",6),e.TgZ(13,"div",7)(14,"ion-label"),e._uU(15,"Add Supporting Role"),e.qZA(),e.TgZ(16,"ion-select",8,9),e.NdJ("ngModelChange",function(i){return t.event_man_role=i}),e.TgZ(18,"ion-select-option",10),e._uU(19,"Manager"),e.qZA(),e.TgZ(20,"ion-select-option",11),e._uU(21,"Entry Manager"),e.qZA()(),e.YNc(22,A,2,0,"div",12),e.qZA(),e.TgZ(23,"ion-footer",13)(24,"ion-button",14),e.NdJ("click",function(){return t.SubmitData()}),e._uU(25,"Save"),e.qZA()()()),2&o){const c=e.MAs(17);e.xp6(11),e.Q6J("ngModel",t.searchTerm),e.xp6(1),e.Q6J("ngForOf",t.user_lists),e.xp6(4),e.Q6J("ngModel",t.event_man_role),e.xp6(6),e.Q6J("ngIf","Yes"===c.value)}},dependencies:[m.sg,m.O5,f.JJ,f.On,a.oU,a.YG,a.Sm,a.W2,a.fr,a.Gu,a.gu,a.pK,a.Q$,a.t9,a.n0,a.sr,a.QI,a.j9,a.cs,a.YI,p.rH],styles:[".loading[_ngcontent-%COMP%]{background-color:#fff;background-image:url(https://media.tenor.com/wpSo-8CrXqUAAAAj/loading-loading-forever.gif);background-size:25px 25px;background-position:right center;background-repeat:no-repeat}ion-toolbar[_ngcontent-%COMP%]{--border-style: none}ion-toolbar[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center}ion-toolbar[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.5rem;padding:10px}.search_container[_ngcontent-%COMP%]{margin-bottom:5px;font-size:13px;background:#dbf9d9;padding:10px;border-radius:5px;text-transform:capitalize}.mt-21[_ngcontent-%COMP%]{margin-top:21px}.form-input[_ngcontent-%COMP%]{margin-bottom:15px}.form-input[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{margin-top:10px;font-size:14px;border-radius:5px;height:40px;padding:5px!important;background:rgb(241,241,241);border:1px solid #285500}.form-input[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]{margin-top:10px;font-size:14px;border-radius:5px;padding:5px!important;height:40px;background:rgb(241,241,241);border:1px solid #285500}ion-label[_ngcontent-%COMP%]{font-size:14px;font-weight:700}ion-footer[_ngcontent-%COMP%]{display:flex}ion-footer[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin:auto;max-width:300px}"]}),n})()}];let d=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[p.Bz.forChild(C),p.Bz]}),n})(),g=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[m.ez,f.u5,a.Pc,d]}),n})()},6524:(P,h,s)=>{s.d(h,{O:()=>A});var m=s(7582),f=s(520);const p=(0,s(7423).fo)("Network",{web:()=>s.e(4203).then(s.bind(s,4203)).then(l=>new l.NetworkWeb)});var e=s(4893),v=s(2468),_=s(6501);let u="https://api.soeasyapp.com/",A=(()=>{class l{constructor(d,g,n){this.http=d,this.dataservice=g,this.common=n,this.checkInternetConnection()}initiatePayment(d,g){const n={headers:(new f.WM).set("Content-Type","application/json").set("Authorization","PAY46ZGYME1AE6LUR1AVI1701862757.YFGJ11SECKEY")};return new Promise((r,o)=>{this.http.post("https://admin.payomatix.com/payment/merchant/"+g,JSON.stringify(d),n).subscribe(t=>{r(t)},t=>{o(t),"HttpErrorResponse"==t.name&&("Unknown Error"==t.statusText?this.checkInternetConnection():this.common.presentToast("","OK"==t.statusText?"Something Went Wrong...":t.statusText)),console.log("In Chatconnect provider : Error",t)})})}postData(d,g){const n={headers:(new f.WM).set("Content-Type","application/json")};return new Promise((r,o)=>{this.http.post(u+g,JSON.stringify(d),n).subscribe(t=>{r(t)},t=>{o(t),"HttpErrorResponse"==t.name&&("Unknown Error"==t.statusText?this.checkInternetConnection():this.common.presentToast("","OK"==t.statusText?"Something Went Wrong...":t.statusText)),console.log("In Chatconnect provider : Error",t)})})}checkInternetConnection(){return(0,m.mG)(this,void 0,void 0,function*(){(yield p.getStatus()).connected?console.log("Internet is connected"):(console.log("No internet connection"),this.common.presentToast("","Check your internet connection"))})}postFormData(d,g){return new Promise((n,r)=>{const o=(new f.WM).set("Accept","application/json");this.http.post(u+g,d,{headers:o}).subscribe(t=>{n(t)},t=>{r(t)})})}}return l.\u0275fac=function(d){return new(d||l)(e.LFG(f.eN),e.LFG(v.D),e.LFG(_.v))},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()}}]);