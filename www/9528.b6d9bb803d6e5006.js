"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9528],{9528:(P,u,s)=>{s.r(u),s.d(u,{AddStaffPageModule:()=>g});var m=s(9808),p=s(2382),a=s(8058),f=s(2561),t=s(4893),v=s(6501),A=s(2468),h=s(6524);function _(n,r){if(1&n){const o=t.EpF();t.ynx(0),t.TgZ(1,"div",15),t.NdJ("click",function(){const i=t.CHM(o).$implicit,S=t.oxw();return t.KtG(S.SetValue(i))}),t._uU(2),t.qZA(),t.BQk()}if(2&n){const o=r.$implicit;t.xp6(2),t.Oqu(o.user_name)}}function C(n,r){1&n&&(t.TgZ(0,"div"),t._UZ(1,"ion-input",16),t.qZA())}const M=[{path:"",component:(()=>{class n{constructor(o,e,c,i,S,x,T){this.commonservice=o,this.dataservice=e,this._route=c,this._router=i,this.chatconnect=S,this.location=x,this.alertController=T,this.user_lists=[],this.ev_managers={},this.selectedFromList=!1}testFunc(o){if(this.selectedFromList)this.selectedFromList=!1;else if(o.detail.value.length>3){let e={user_token:this.dataservice.getUserData(),search_params:o.detail.value};this.chatconnect.postData(e,"get_all_users").then(c=>{1==c.Response.status?this.user_lists=c.Response.all_users:this.commonservice.presentToast("Oops",c.Response.message)},c=>{console.log("Connection failed Messge")})}}SetValue(o){this.ev_managers.user_id=o.id,this.searchTerm=o.user_name,this.user_lists=[],this.selectedFromList=!0}SubmitData(){const o=this._route.snapshot.params.event_type;if(null==this.event_man_role)return this.commonservice.presentToast("","Select Admin role."),!1;if(this.dataservice.staff_data.event_managers.some(i=>i.user_id===this.ev_managers.user_id))return this.commonservice.presentToast("","Admin already exists."),!1;this.ev_managers.event_role=parseInt(this.event_man_role),this.dataservice.staff_data.event_managers.push(this.ev_managers);let c={event_id:this.dataservice.staff_data.id,user_token:this.dataservice.getUserData(),event_managers:this.dataservice.staff_data.event_managers,event_type:o};this.chatconnect.postData(c,"add_staff_to_event").then(i=>{1==i.Response.status?(this.commonservice.presentToast("",i.Response.message),this.location.back()):this.commonservice.presentToast("Oops",i.Response.message)},i=>{console.log("Connection failed Messge")})}ngOnInit(){this.dataservice.ValidateArray(this.dataservice.staff_data.event_managers)}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(v.v),t.Y36(A.D),t.Y36(f.gz),t.Y36(f.F0),t.Y36(h.O),t.Y36(m.Ye),t.Y36(a.Br))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-add-staff"]],decls:26,vars:4,consts:[["slot","start"],["text","","icon","arrow-back-outline"],["slot","end","name","close","routerLink","/tabs/home"],[1,"ion-padding"],[1,"form-input"],["placeholder","Enter Name",1,"loading",3,"ngModel","ionChange","ngModelChange"],[4,"ngFor","ngForOf"],[1,"form-input","mt-21"],["name","cat","interface","popover","placeholder","Select Staff Role",3,"ngModel","ngModelChange"],["lang",""],["value","1",2,"font-size","14px"],["value","2",2,"font-size","14px"],[4,"ngIf"],[1,"ion-no-border"],["color","secondary","shape","round",3,"click"],[1,"search_container",3,"click"],["placeholder","Mention Staff Role"]],template:function(o,e){if(1&o&&(t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),t._UZ(3,"ion-back-button",1),t.qZA(),t.TgZ(4,"h2"),t._uU(5,"Add Staff"),t.qZA(),t._UZ(6,"ion-icon",2),t.qZA()(),t.TgZ(7,"ion-content",3)(8,"div",4)(9,"ion-label"),t._uU(10,"Name"),t.qZA(),t.TgZ(11,"ion-input",5),t.NdJ("ionChange",function(i){return e.testFunc(i)})("ngModelChange",function(i){return e.searchTerm=i}),t.qZA()(),t.YNc(12,_,3,1,"ng-container",6),t.TgZ(13,"div",7)(14,"ion-label"),t._uU(15,"Add Supporting Role"),t.qZA(),t.TgZ(16,"ion-select",8,9),t.NdJ("ngModelChange",function(i){return e.event_man_role=i}),t.TgZ(18,"ion-select-option",10),t._uU(19,"Manager"),t.qZA(),t.TgZ(20,"ion-select-option",11),t._uU(21,"Entry Manager"),t.qZA()(),t.YNc(22,C,2,0,"div",12),t.qZA(),t.TgZ(23,"ion-footer",13)(24,"ion-button",14),t.NdJ("click",function(){return e.SubmitData()}),t._uU(25,"Save"),t.qZA()()()),2&o){const c=t.MAs(17);t.xp6(11),t.Q6J("ngModel",e.searchTerm),t.xp6(1),t.Q6J("ngForOf",e.user_lists),t.xp6(4),t.Q6J("ngModel",e.event_man_role),t.xp6(6),t.Q6J("ngIf","Yes"===c.value)}},dependencies:[m.sg,m.O5,p.JJ,p.On,a.oU,a.YG,a.Sm,a.W2,a.fr,a.Gu,a.gu,a.pK,a.Q$,a.t9,a.n0,a.sr,a.QI,a.j9,a.cs,a.YI,f.rH],styles:[".loading[_ngcontent-%COMP%]{background-color:#fff;background-image:url(https://media.tenor.com/wpSo-8CrXqUAAAAj/loading-loading-forever.gif);background-size:25px 25px;background-position:right center;background-repeat:no-repeat}ion-toolbar[_ngcontent-%COMP%]{--border-style: none}ion-toolbar[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center}ion-toolbar[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.5rem;padding:10px}.search_container[_ngcontent-%COMP%]{margin-bottom:5px;font-size:13px;background:#dbf9d9;padding:10px;border-radius:5px;text-transform:capitalize}.mt-21[_ngcontent-%COMP%]{margin-top:21px}.form-input[_ngcontent-%COMP%]{margin-bottom:15px}.form-input[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{margin-top:10px;font-size:14px;border-radius:5px;height:40px;padding:5px!important;background:rgb(241,241,241);border:1px solid #285500}.form-input[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]{margin-top:10px;font-size:14px;border-radius:5px;padding:5px!important;height:40px;background:rgb(241,241,241);border:1px solid #285500}ion-label[_ngcontent-%COMP%]{font-size:14px;font-weight:700}ion-footer[_ngcontent-%COMP%]{display:flex}ion-footer[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin:auto;max-width:300px}"]}),n})()}];let d=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[f.Bz.forChild(M),f.Bz]}),n})(),g=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[m.ez,p.u5,a.Pc,d]}),n})()},6524:(P,u,s)=>{s.d(u,{O:()=>C});var m=s(7582),p=s(520);const f=(0,s(7423).fo)("Network",{web:()=>s.e(4203).then(s.bind(s,4203)).then(l=>new l.NetworkWeb)});var t=s(4893),v=s(2468),A=s(6501);let h="https://api.soeasyapp.com/",C=(()=>{class l{constructor(d,g,n){this.http=d,this.dataservice=g,this.common=n,this.checkInternetConnection()}initiatePayment(d,g){const n={headers:(new p.WM).set("Content-Type","application/json").set("Authorization","PAY46ZGYME1AE6LUR1AVI1701862757.YFGJ11SECKEY")};return new Promise((r,o)=>{this.http.post("https://admin.payomatix.com/payment/merchant/"+g,JSON.stringify(d),n).subscribe(e=>{r(e)},e=>{o(e),"HttpErrorResponse"==e.name&&("Unknown Error"==e.statusText?this.checkInternetConnection():this.common.presentToast("","OK"==e.statusText?"Something Went Wrong...":e.statusText)),console.log("In Chatconnect provider : Error",e)})})}postData(d,g){const n={headers:(new p.WM).set("Content-Type","application/json")};return new Promise((r,o)=>{this.http.post(h+g,JSON.stringify(d),n).subscribe(e=>{r(e)},e=>{o(e),"HttpErrorResponse"==e.name&&("Unknown Error"==e.statusText?this.checkInternetConnection():this.common.presentToast("","OK"==e.statusText?"Something Went Wrong...":e.statusText)),console.log("In Chatconnect provider : Error",e)})})}checkInternetConnection(){return(0,m.mG)(this,void 0,void 0,function*(){(yield f.getStatus()).connected?console.log("Internet is connected"):(console.log("No internet connection"),this.common.presentToast("","Check your internet connection"))})}postFormData(d,g){return new Promise((n,r)=>{const o=(new p.WM).set("Accept","application/json");this.http.post(h+g,d,{headers:o}).subscribe(e=>{n(e)},e=>{r(e)})})}}return l.\u0275fac=function(d){return new(d||l)(t.LFG(p.eN),t.LFG(v.D),t.LFG(A.v))},l.\u0275prov=t.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()}}]);